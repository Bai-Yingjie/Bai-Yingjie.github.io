
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>octeon nand flash驱动 · My Notes</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Bai Yingjie">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-base16-ateliersulphurpool.light.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-wide-page/wide.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-hide-navigation-buttons/index.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="device_driver_nand概率写失败问题分析.html" />
    
    
    <link rel="prev" href="as_title.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    CPU和device虚拟化
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    gvisor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="golang_gvisor代码_KVM.html">
            
                <a href="golang_gvisor代码_KVM.html">
            
                    
                    gvisor KVM模式代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="golang_gvisor调试.html">
            
                <a href="golang_gvisor调试.html">
            
                    
                    gvisor调试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="golang_gvisor_ptrace.html">
            
                <a href="golang_gvisor_ptrace.html">
            
                    
                    gvisor ptrace模式介绍(网摘)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="rust_vmm_brief.html">
            
                <a href="rust_vmm_brief.html">
            
                    
                    rust VMM(virtual machine monitor)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="rust_vmm_简介.html">
            
                <a href="rust_vmm_简介.html">
            
                    
                    rust-vmm简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="rust_firecracker_代码.html">
            
                <a href="rust_firecracker_代码.html">
            
                    
                    firecracker代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="rust_firecracker_使用.html">
            
                <a href="rust_firecracker_使用.html">
            
                    
                    firecracker使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="rust_cloud-hypervisor_代码.html">
            
                <a href="rust_cloud-hypervisor_代码.html">
            
                    
                    cloud hypervisor代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="rust_cloud-hypervisor_使用.html">
            
                <a href="rust_cloud-hypervisor_使用.html">
            
                    
                    cloud hypervisor使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="rust_cloud-hypervisor_问题与解决.html">
            
                <a href="rust_cloud-hypervisor_问题与解决.html">
            
                    
                    cloud hypervisor问题与解决
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="qemu_ovs_虚拟化环境.html">
            
                <a href="qemu_ovs_虚拟化环境.html">
            
                    
                    qemu OVS 虚拟化环境准备
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="qemu使用.html">
            
                <a href="qemu使用.html">
            
                    
                    Qemu使用(old)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    开源
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="my_opensource.html">
            
                <a href="my_opensource.html">
            
                    
                    我的开源项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="my_upstream.html">
            
                <a href="my_upstream.html">
            
                    
                    我的upstream commit
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    Golang
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    入门
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="golang_语法基础.html">
            
                <a href="golang_语法基础.html">
            
                    
                    Golang 语法基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="golang_json性能.html">
            
                <a href="golang_json性能.html">
            
                    
                    Golang json性能比较
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="golang_原理.html">
            
                <a href="golang_原理.html">
            
                    
                    Golang 原理相关
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="golang_interface原理.html">
            
                <a href="golang_interface原理.html">
            
                    
                    Golang interface原理(网摘)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="golang_内存分配.html">
            
                <a href="golang_内存分配.html">
            
                    
                    Golang 内存分配(网摘)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="golang_标准库.html">
            
                <a href="golang_标准库.html">
            
                    
                    Golang 标准库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="golang_我的反射代码.html">
            
                <a href="golang_我的反射代码.html">
            
                    
                    Golang 我的反射代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="golang_问答.html">
            
                <a href="golang_问答.html">
            
                    
                    Golang 问答
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="golang_高效go.html">
            
                <a href="golang_高效go.html">
            
                    
                    Golang 高效go
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="golang_进阶.html">
            
                <a href="golang_进阶.html">
            
                    
                    Golang 进阶
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    Golang 杂记
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.1" data-path="golang_杂记1.html">
            
                <a href="golang_杂记1.html">
            
                    
                    Golang 杂记1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2" data-path="golang_杂记2.html">
            
                <a href="golang_杂记2.html">
            
                    
                    Golang 杂记2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.3" data-path="golang_杂记3.html">
            
                <a href="golang_杂记3.html">
            
                    
                    Golang 杂记3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.4" data-path="golang_lib选型.html">
            
                <a href="golang_lib选型.html">
            
                    
                    Golang lib选型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.5" data-path="golang_mod_proxy.html">
            
                <a href="golang_mod_proxy.html">
            
                    
                    go mod和go proxy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.6" data-path="golang_汇编_arm64.html">
            
                <a href="golang_汇编_arm64.html">
            
                    
                    Golang 汇编语法和arm64小知识
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.7" data-path="golang_cgo_swig.html">
            
                <a href="golang_cgo_swig.html">
            
                    
                    go调用c可以用swig
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    Golang 环境和工具链生成
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.9.1" data-path="golang_toolchain_ppc.html">
            
                <a href="golang_toolchain_ppc.html">
            
                    
                    go tools增加ppc32支持.md
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9.2" data-path="golang_toolchain_compile_gccgo.html">
            
                <a href="golang_toolchain_compile_gccgo.html">
            
                    
                    编译gccgo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9.3" data-path="golang_go_on_mips.html">
            
                <a href="golang_go_on_mips.html">
            
                    
                    go on mips boards(not so updated)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.9.3.1" data-path="golang_go_on_mips_part1.html">
            
                <a href="golang_go_on_mips_part1.html">
            
                    
                    part 1: cross compile go
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9.3.2" data-path="golang_go_on_mips_part2.html">
            
                <a href="golang_go_on_mips_part2.html">
            
                    
                    part 2: build native go compiler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9.3.3" data-path="golang_go_on_mips_part3.html">
            
                <a href="golang_go_on_mips_part3.html">
            
                    
                    part 3: gccgo experiments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9.3.4" data-path="golang_go_on_mips_part4.html">
            
                <a href="golang_go_on_mips_part4.html">
            
                    
                    part 4: Golang json performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9.3.5" data-path="golang_gentoo_on_mips_board_and_build_go.html">
            
                <a href="golang_gentoo_on_mips_board_and_build_go.html">
            
                    
                    Gentoo on mips board and build go
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    微服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.10.1" data-path="golang_micro.html">
            
                <a href="golang_micro.html">
            
                    
                    go-micro和micro
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10.2" data-path="golang_微服务概念.html">
            
                <a href="golang_微服务概念.html">
            
                    
                    微服务概念
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    解释器和编解码
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.11.1" data-path="golang_yeagi.html">
            
                <a href="golang_yeagi.html">
            
                    
                    解释器yeagi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11.2" data-path="golang_tengo.html">
            
                <a href="golang_tengo.html">
            
                    
                    解释器tengo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11.3" data-path="golang_govaluate.html">
            
                <a href="golang_govaluate.html">
            
                    
                    解释器govaluate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11.4" data-path="golang_encoding_gotiny.html">
            
                <a href="golang_encoding_gotiny.html">
            
                    
                    gotiny编解码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11.5" data-path="golang_abs.html">
            
                <a href="golang_abs.html">
            
                    
                    解释器abs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.12" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    调试和性能
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.12.1" data-path="golang_调试记录.html">
            
                <a href="golang_调试记录.html">
            
                    
                    Golang 调试记录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12.2" data-path="golang_topid性能优化.html">
            
                <a href="golang_topid性能优化.html">
            
                    
                    Golang topid性能优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12.3" data-path="golang_gshell性能调试.html">
            
                <a href="golang_gshell性能调试.html">
            
                    
                    Golang gshell性能调试
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.13" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    网络和消息中间件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.13.1" data-path="golang_zmq.html">
            
                <a href="golang_zmq.html">
            
                    
                    消息中间件基本概念和zero mq
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.13.2" data-path="golang_mango.html">
            
                <a href="golang_mango.html">
            
                    
                    消息中间件mango
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.13.3" data-path="golang_libp2p.html">
            
                <a href="golang_libp2p.html">
            
                    
                    Golang p2p网络
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    Rust
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="rust_入门_brief.html">
            
                <a href="rust_入门_brief.html">
            
                    
                    Rust 入门系列
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="rust_books.html">
            
                <a href="rust_books.html">
            
                    
                    Rust reference books
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.2" data-path="rust_入门1.html">
            
                <a href="rust_入门1.html">
            
                    
                    Rust 安装和基础语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.3" data-path="rust_入门2.html">
            
                <a href="rust_入门2.html">
            
                    
                    Rust 泛型和内存所有权
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.4" data-path="rust_入门3.html">
            
                <a href="rust_入门3.html">
            
                    
                    Rust 闭包 容器 迭代器 生成器 线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.5" data-path="rust_工程构建.html">
            
                <a href="rust_工程构建.html">
            
                    
                    Rust 工程构建
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="rust_coding_brief.html">
            
                <a href="rust_coding_brief.html">
            
                    
                    Rust 代码积累
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="rust_序列化.html">
            
                <a href="rust_序列化.html">
            
                    
                    Rust 序列化原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="rust_知识点积累.html">
            
                <a href="rust_知识点积累.html">
            
                    
                    Rust 知识点更新
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.3" data-path="rust_adaptiveservice.html">
            
                <a href="rust_adaptiveservice.html">
            
                    
                    rust版本的adaptiveservice探索
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4" data-path="rust_常用设施.html">
            
                <a href="rust_常用设施.html">
            
                    
                    Rust 常用设施
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.5" data-path="rust_代码小段.html">
            
                <a href="rust_代码小段.html">
            
                    
                    Rust 代码小段
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="others.html">
            
                <a href="others.html">
            
                    
                    其他
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="rust_mdbook_使用.html">
            
                <a href="rust_mdbook_使用.html">
            
                    
                    Rust 使用mdbook
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    ARM server
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="arm_server_杂记.html">
            
                <a href="arm_server_杂记.html">
            
                    
                    Rust 杂记
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    脚本
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="shell_变量.html">
            
                <a href="shell_变量.html">
            
                    
                    shell变量
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="shell_基础篇.html">
            
                <a href="shell_基础篇.html">
            
                    
                    shell命令和脚本记录-基础篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="shell_高级篇.html">
            
                <a href="shell_高级篇.html">
            
                    
                    shell命令和脚本记录-高级篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="shell_脚本片段.html">
            
                <a href="shell_脚本片段.html">
            
                    
                    shell脚本片段
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="python_记录.html">
            
                <a href="python_记录.html">
            
                    
                    python记录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="lua_记录.html">
            
                <a href="lua_记录.html">
            
                    
                    lua记录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="shell_rds脚本阅读.html">
            
                <a href="shell_rds脚本阅读.html">
            
                    
                    RDS脚本阅读
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="Project_Euler.html">
            
                <a href="Project_Euler.html">
            
                    
                    Project Euler
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    CPU Arch相关
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    ARM64
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1" data-path="CPU_ARM64_thunder_overview.html">
            
                <a href="CPU_ARM64_thunder_overview.html">
            
                    
                    thunder 概览
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.2" data-path="CPU_ARM64_thunder_开发板操作记录.html">
            
                <a href="CPU_ARM64_thunder_开发板操作记录.html">
            
                    
                    thunder 开发板操作记录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.3" data-path="CPU_ARM64_thunder_bdk.html">
            
                <a href="CPU_ARM64_thunder_bdk.html">
            
                    
                    thunder BDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.4" data-path="CPU_ARM64_thunder_efi_rtc.html">
            
                <a href="CPU_ARM64_thunder_efi_rtc.html">
            
                    
                    thunder RTC时间和efi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.5" data-path="CPU_ARM64_thunder_uefi_fdt.html">
            
                <a href="CPU_ARM64_thunder_uefi_fdt.html">
            
                    
                    thunder uefi和fdt
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.6" data-path="CPU_ARM64_thunder_atf.html">
            
                <a href="CPU_ARM64_thunder_atf.html">
            
                    
                    thunder atf
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.7" data-path="CPU_ARM64_thunder_kernel_boot.html">
            
                <a href="CPU_ARM64_thunder_kernel_boot.html">
            
                    
                    thunder kernel启动打印流程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    PPC
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.2.1" data-path="CPU_PPC启动多核Linux_流程和内存映射.html">
            
                <a href="CPU_PPC启动多核Linux_流程和内存映射.html">
            
                    
                    PPC启动多核linux: 流程和内存映射
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.2" data-path="CPU_PPC_kernel升级记录.html">
            
                <a href="CPU_PPC_kernel升级记录.html">
            
                    
                    PPC kernel升级记录
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    MIPS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.3.1" data-path="CPU_MIPS_octeon地址空间和寄存器访问.html">
            
                <a href="CPU_MIPS_octeon地址空间和寄存器访问.html">
            
                    
                    octeon 地址空间和寄存器访问
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.2" data-path="CPU_MIPS_octeon操作记录.html">
            
                <a href="CPU_MIPS_octeon操作记录.html">
            
                    
                    octeon 操作记录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.3" data-path="CPU_MIPS_octeon_包处理性能.html">
            
                <a href="CPU_MIPS_octeon_包处理性能.html">
            
                    
                    octeon 系列处理器包处理性能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.4" data-path="CPU_MIPS_octeon_ddr调试记录.html">
            
                <a href="CPU_MIPS_octeon_ddr调试记录.html">
            
                    
                    octeon DDR调试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.5" data-path="CPU_MIPS_octeon_BDK.html">
            
                <a href="CPU_MIPS_octeon_BDK.html">
            
                    
                    octeon CN78xx BDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.6" data-path="kernel_增加ECC中断.html">
            
                <a href="kernel_增加ECC中断.html">
            
                    
                    octeon 增加ECC中断
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.7" data-path="CPU_MIPS_octeon_hw-ddr2代码走读.html">
            
                <a href="CPU_MIPS_octeon_hw-ddr2代码走读.html">
            
                    
                    octeon hw-ddr2代码走读
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.8" data-path="CPU_MIPS_octeon_reboot调试和ddr中断.html">
            
                <a href="CPU_MIPS_octeon_reboot调试和ddr中断.html">
            
                    
                    octeon reboot调试和DDR中断
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.9" data-path="CPU_MIPS_octeon中断.html">
            
                <a href="CPU_MIPS_octeon中断.html">
            
                    
                    octeon 中断
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.10" data-path="CPU_MIPS_octeon原子操作.html">
            
                <a href="CPU_MIPS_octeon原子操作.html">
            
                    
                    octeon 原子操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.11" data-path="CPU_MIPS_octeon网口代码分析.html">
            
                <a href="CPU_MIPS_octeon网口代码分析.html">
            
                    
                    octeon 网口代码分析
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    计算机网络
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="networking_杂记1.html">
            
                <a href="networking_杂记1.html">
            
                    
                    networking杂记1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    Qemu OVS和DPDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.2.1" data-path="OVS_DPDK_编译运行.html">
            
                <a href="OVS_DPDK_编译运行.html">
            
                    
                    OVS-DPDK编译运行
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.2" data-path="OVS_架构和代码.html">
            
                <a href="OVS_架构和代码.html">
            
                    
                    OVS架构和代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.3" data-path="OVS_DPDK_performance_HXT_ARM_server.html">
            
                <a href="OVS_DPDK_performance_HXT_ARM_server.html">
            
                    
                    OVS-DPDK for ARM server 性能测试环境
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.4" data-path="DPDK_Mellanox.html">
            
                <a href="DPDK_Mellanox.html">
            
                    
                    DPDK Mellanox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.5" data-path="OVS_phy-vm-phy.html">
            
                <a href="OVS_phy-vm-phy.html">
            
                    
                    OVS PHY-VM-PHY
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    虚拟化网络
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.3.1" data-path="networking_virtualization_杂记.html">
            
                <a href="networking_virtualization_杂记.html">
            
                    
                    虚拟化网络杂记
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.2" data-path="networking_linux虚拟网络接口.html">
            
                <a href="networking_linux虚拟网络接口.html">
            
                    
                    linux虚拟网络接口(网摘)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    设备和驱动相关
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="device_driver_杂记.html">
            
                <a href="device_driver_杂记.html">
            
                    
                    驱动杂记
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="device_localbus_16bit读写.html">
            
                <a href="device_localbus_16bit读写.html">
            
                    
                    CPLD做8bit到16bit转换
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    nand
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.10.3.1" data-path="device_driver_octeon_nand.html">
            
                <a href="device_driver_octeon_nand.html">
            
                    
                    octeon nand flash驱动
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.2" data-path="device_driver_nand概率写失败问题分析.html">
            
                <a href="device_driver_nand概率写失败问题分析.html">
            
                    
                    Nand flash概率写失败问题分析
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="octeon_remote_pci.html">
            
                <a href="octeon_remote_pci.html">
            
                    
                    octeon remote-pci.c阅读
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="Device_VFIO_notes.html">
            
                <a href="Device_VFIO_notes.html">
            
                    
                    VFIO简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    智能网卡和DPDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.6.1" data-path="smartNIC_智能网卡对比.html">
            
                <a href="smartNIC_智能网卡对比.html">
            
                    
                    智能网卡对比
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6.2" data-path="octeon_pci_NIC.html">
            
                <a href="octeon_pci_NIC.html">
            
                    
                    octeon PCI NIC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6.3" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    octeon liquidIO
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.6.3.1" data-path="smartNIC_liquidIO_代码阅读app篇.html">
            
                <a href="smartNIC_liquidIO_代码阅读app篇.html">
            
                    
                    PCI-NIC 代码阅读 --app篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6.3.2" data-path="smartNIC_liquidIO_代码阅读api篇.html">
            
                <a href="smartNIC_liquidIO_代码阅读api篇.html">
            
                    
                    PCI-NIC 代码阅读 --api篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6.3.3" data-path="smartNIC_liquidIO_代码阅读driver篇之结构体.html">
            
                <a href="smartNIC_liquidIO_代码阅读driver篇之结构体.html">
            
                    
                    PCI-NIC 代码阅读 --driver篇之结构体
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6.3.4" data-path="smartNIC_liquidIO_代码阅读driver篇.html">
            
                <a href="smartNIC_liquidIO_代码阅读driver篇.html">
            
                    
                    PCI-NIC 代码阅读 --driver篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6.3.5" data-path="smartNIC_liquidIO_代码阅读真NIC篇.html">
            
                <a href="smartNIC_liquidIO_代码阅读真NIC篇.html">
            
                    
                    PCI-NIC 代码阅读 --真NIC篇
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.6.4" data-path="networking_dpdk使用_2014.html">
            
                <a href="networking_dpdk使用_2014.html">
            
                    
                    DPDK使用(2014)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="device_nvme要点介绍.html">
            
                <a href="device_nvme要点介绍.html">
            
                    
                    nvme要点介绍
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    Linux 开发调试
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    Operating System
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1.1" data-path="system_libc_part1.html">
            
                <a href="system_libc_part1.html">
            
                    
                    libc概览1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.1.2" data-path="system_libc_part2.html">
            
                <a href="system_libc_part2.html">
            
                    
                    libc概览2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.1.3" data-path="system_libc_part3.html">
            
                <a href="system_libc_part3.html">
            
                    
                    libc概览3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.1.4" data-path="system_原理杂记.html">
            
                <a href="system_原理杂记.html">
            
                    
                    系统原理杂记
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.1.5" data-path="system_alpine.html">
            
                <a href="system_alpine.html">
            
                    
                    Alpine Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.1.6" data-path="system_进程间通信.html">
            
                <a href="system_进程间通信.html">
            
                    
                    进程间通信
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.1.7" data-path="system_特殊功能fd.html">
            
                <a href="system_特殊功能fd.html">
            
                    
                    eventfd timerfd signalfd和fd共享
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    嵌入式系统开发调试
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.2.1" data-path="embedded_debugging.html">
            
                <a href="embedded_debugging.html">
            
                    
                    嵌入式调试杂记
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2.2" data-path="uboot_杂记.html">
            
                <a href="uboot_杂记.html">
            
                    
                    uboot杂记
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2.3" data-path="buildroot_杂记.html">
            
                <a href="buildroot_杂记.html">
            
                    
                    buildroot杂记
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2.4" data-path="toolchain_升级gcc问题解决.html">
            
                <a href="toolchain_升级gcc问题解决.html">
            
                    
                    升级GCC7.3问题解决
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    工程实践
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="gitlab_ci.html">
            
                <a href="gitlab_ci.html">
            
                    
                    gitlab CI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >octeon nand flash驱动</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#dts&#x914D;&#x7F6E;"><b>1. </b>dts&#x914D;&#x7F6E;</a></li><li><span class="title-icon "></span><a href="#&#x786C;&#x4EF6;&#x56FE;"><b>2. </b>&#x786C;&#x4EF6;&#x56FE;</a></li><li><span class="title-icon "></span><a href="#&#x5173;&#x4E8E;mtd"><b>3. </b>&#x5173;&#x4E8E;mtd</a></li><ul><li><span class="title-icon "></span><a href="#&#x5206;&#x5C42;"><b>3.1. </b>&#x5206;&#x5C42;</a></li><li><span class="title-icon "></span><a href="#&#x521D;&#x59CB;&#x5316;-octeon-nandc"><b>3.2. </b>&#x521D;&#x59CB;&#x5316; octeon-nand.c</a></li><li><span class="title-icon "></span><a href="#&#x8C03;&#x8BD5;"><b>3.3. </b>&#x8C03;&#x8BD5;</a></li><ul><li><span class="title-icon "></span><a href="#&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;&#x5316;&#x7B80;"><b>3.3.1. </b>&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;&#x5316;&#x7B80;</a></li><li><span class="title-icon "></span><a href="#attach&#x7ED3;&#x679C;"><b>3.3.2. </b>attach&#x7ED3;&#x679C;</a></li><li><span class="title-icon "></span><a href="#&#x9519;&#x8BEF;1"><b>3.3.3. </b>&#x9519;&#x8BEF;1</a></li><li><span class="title-icon "></span><a href="#&#x9519;&#x8BEF;2"><b>3.3.4. </b>&#x9519;&#x8BEF;2</a></li><li><span class="title-icon "></span><a href="#&#x9519;&#x8BEF;3"><b>3.3.5. </b>&#x9519;&#x8BEF;3</a></li><li><span class="title-icon "></span><a href="#&#x5E95;&#x5C42;&#x8BFB;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6808;"><b>3.3.6. </b>&#x5E95;&#x5C42;&#x8BFB;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6808;</a></li></ul></ul></ul></div><a href="#dts&#x914D;&#x7F6E;" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><ul>
<li><a href="#dts&#x914D;&#x7F6E;">dts&#x914D;&#x7F6E;</a></li>
<li><a href="#&#x786C;&#x4EF6;&#x56FE;">&#x786C;&#x4EF6;&#x56FE;</a></li>
<li><a href="#&#x5173;&#x4E8E;mtd">&#x5173;&#x4E8E;mtd</a><ul>
<li><a href="#&#x5206;&#x5C42;">&#x5206;&#x5C42;</a></li>
<li><a href="#&#x521D;&#x59CB;&#x5316;-octeon-nandc">&#x521D;&#x59CB;&#x5316; octeon-nand.c</a></li>
<li><a href="#&#x8C03;&#x8BD5;">&#x8C03;&#x8BD5;</a><ul>
<li><a href="#&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;&#x5316;&#x7B80;">&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;&#x5316;&#x7B80;</a></li>
<li><a href="#attach&#x7ED3;&#x679C;">attach&#x7ED3;&#x679C;</a></li>
<li><a href="#&#x9519;&#x8BEF;1">&#x9519;&#x8BEF;1</a></li>
<li><a href="#&#x9519;&#x8BEF;2">&#x9519;&#x8BEF;2</a></li>
<li><a href="#&#x9519;&#x8BEF;3">&#x9519;&#x8BEF;3</a></li>
<li><a href="#&#x5E95;&#x5C42;&#x8BFB;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6808;">&#x5E95;&#x5C42;&#x8BFB;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6808;</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="dts&#x914D;&#x7F6E;"><a name="dts&#x914D;&#x7F6E;" class="anchor-navigation-ex-anchor" href="#dts&#x914D;&#x7F6E;"><i class="fa fa-link" aria-hidden="true"></i></a>1. dts&#x914D;&#x7F6E;</h1>
<p><img src="img/device_driver_octeon_nand_20220923155307.png" alt="">  </p>
<h1 id="&#x786C;&#x4EF6;&#x56FE;"><a name="&#x786C;&#x4EF6;&#x56FE;" class="anchor-navigation-ex-anchor" href="#&#x786C;&#x4EF6;&#x56FE;"><i class="fa fa-link" aria-hidden="true"></i></a>2. &#x786C;&#x4EF6;&#x56FE;</h1>
<p><img src="img/device_driver_octeon_nand_20220923155319.png" alt=""><br><img src="img/device_driver_octeon_nand_20220923155344.png" alt="">  </p>
<h1 id="&#x5173;&#x4E8E;mtd"><a name="&#x5173;&#x4E8E;mtd" class="anchor-navigation-ex-anchor" href="#&#x5173;&#x4E8E;mtd"><i class="fa fa-link" aria-hidden="true"></i></a>3. &#x5173;&#x4E8E;mtd</h1>
<h2 id="&#x5206;&#x5C42;"><a name="&#x5206;&#x5C42;" class="anchor-navigation-ex-anchor" href="#&#x5206;&#x5C42;"><i class="fa fa-link" aria-hidden="true"></i></a>3.1. &#x5206;&#x5C42;</h2>
<p><img src="img/device_driver_octeon_nand_20220923155405.png" alt=""><br>&#x5176;&#x4E2D;, FTL&#x662F;&#x4E2A;&#x865A;&#x62DF;&#x5757;&#x8BBE;&#x5907;&#x5C42;, &#x7528;&#x4E8E;&#x628A;nand flash&#x8F6C;&#x6362;&#x6210;&#x5757;&#x8BBE;&#x5907;</p>
<h2 id="&#x521D;&#x59CB;&#x5316;-octeon-nandc"><a name="&#x521D;&#x59CB;&#x5316;-octeon-nandc" class="anchor-navigation-ex-anchor" href="#&#x521D;&#x59CB;&#x5316;-octeon-nandc"><i class="fa fa-link" aria-hidden="true"></i></a>3.2. &#x521D;&#x59CB;&#x5316; octeon-nand.c</h2>
<ul>
<li>&#x77E5;&#x8BC6;&#x70B9;: <code>late_initcall()</code>, &#x5B9A;&#x4E49;&#x5728;<code>init.h</code>&#x4E2D;, &#x5B9A;&#x4E49;linux&#x4E00;&#x4E2A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x51FD;&#x6570;.&#x89C1;<code>late_initcall</code>&#x548C;<code>module_init</code></li>
<li>&#x77E5;&#x8BC6;&#x70B9;: pr_debug(fmt, ...), &#x5728;&#x5B9A;&#x4E49;&#x4E86;<code>DEBUG</code>&#x540E;, &#x8FD9;&#x662F;&#x4E2A;<code>KERN_DEBUG</code>&#x7EA7;&#x522B;&#x7684;printk</li>
<li>&#x77E5;&#x8BC6;&#x70B9;: DEV_DBG, &#x8FD9;&#x662F;octeon&#x9A71;&#x52A8;&#x5B9A;&#x4E49;&#x7684;&#x5B8F;, &#x5185;&#x90E8;&#x8C03;&#x7528;<code>dev_info()</code>, &#x7C7B;&#x4F3C;&#x7684;, &#x8FD8;&#x6709;<code>dev_dbg()</code>, <code>dev_err()</code>, <code>dev_warn()</code><br>&#x8BE5;&#x5B8F;&#x7528; static int debug &#x53D8;&#x91CF;&#x63A7;&#x5236;, &#x800C;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x662F;&#x6A21;&#x5757;&#x53C2;&#x6570;<pre class="language-"><code class="lang-c"><span class="token keyword">static</span> <span class="token keyword">int</span> debug<span class="token punctuation">;</span>
<span class="token function">module_param</span><span class="token punctuation">(</span>debug<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token number">0644</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">MODULE_PARM_DESC</span><span class="token punctuation">(</span>debug<span class="token punctuation">,</span> <span class="token string">&quot;Debug bit field. -1 will turn on all debugging.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
<li>&#x77E5;&#x8BC6;&#x70B9;: &#x6A21;&#x5757;&#x53C2;&#x6570;&#x4FEE;&#x6539;, linux &#x6A21;&#x5757;&#x7B14;&#x8BB0;</li>
<li>&#x77E5;&#x8BC6;&#x70B9;: &#x9A71;&#x52A8;&#x4E2D;&#x7533;&#x8BF7;&#x5185;&#x5B58;
<code>devm_kzalloc(&amp;pdev-&gt;dev, sizeof(struct octeon_nand), GFP_KERNEL)</code><ul>
<li>&#x7533;&#x8BF7;&#x7684;&#x5185;&#x5B58;&#x4F1A;&#x5728;drv/dev dettach&#x65F6;&#x81EA;&#x52A8;&#x91CA;&#x653E;</li>
<li>&#x5185;&#x5B58;&#x4F1A;&#x88AB;&#x5168;&#x90E8;&#x6E05;&#x96F6;</li>
</ul>
</li>
<li>&#x77E5;&#x8BC6;&#x70B9;: &#x5185;&#x6838;&#x4E2D;&#x7684;&#x5B57;&#x8282;&#x5E8F;&#x8F6C;&#x6362;&#x5B8F;, &#x6BD4;&#x5982;<code>le32_to_cpu(data)</code></li>
<li>&#x4EE3;&#x7801;&#x68B3;&#x7406;<br><img src="img/device_driver_octeon_nand_20220923160549.png" alt="">  </li>
</ul>
<pre class="language-"><code class="lang-c"><span class="token function">late_initcall</span><span class="token punctuation">(</span>octeon_nand_driver_init<span class="token punctuation">)</span>
    <span class="token function">platform_driver_register</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>octeon_nand_driver<span class="token punctuation">)</span>
        <span class="token function">driver_register</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>drv<span class="token operator">-&gt;</span>driver<span class="token punctuation">)</span>
            <span class="token comment">//&#x5148;find, &#x627E;&#x5230;&#x4E86;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x6CE8;&#x518C;&#x4E86;</span>
            <span class="token function">driver_find</span><span class="token punctuation">(</span>drv<span class="token operator">-&gt;</span>name<span class="token punctuation">,</span> drv<span class="token operator">-&gt;</span>bus<span class="token punctuation">)</span>
            <span class="token function">bus_add_driver</span><span class="token punctuation">(</span>drv<span class="token punctuation">)</span>
                <span class="token comment">//&#x7533;&#x8BF7;driver_private&#x7ED3;&#x6784;*priv, &#x5E76;&#x548C;drv&#x5173;&#x8054;</span>
                <span class="token comment">//&#x5E76;&#x52A0;&#x5165;kset</span>
                drv<span class="token operator">-&gt;</span>p <span class="token operator">=</span> priv
                priv<span class="token operator">-&gt;</span>kobj<span class="token punctuation">.</span>kset <span class="token operator">=</span> bus<span class="token operator">-&gt;</span>p<span class="token operator">-&gt;</span>drivers_kset
                <span class="token comment">//&#x5728;sysfs&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E0B;&#x5728;&#x603B;&#x7EBF;&#x6240;&#x5728;&#x7684;drivers_kset&#x76EE;&#x5F55;&#x4E0B;&#x6DFB;&#x52A0;&#x8BE5;&#x9A71;&#x52A8;&#x7684;&#x76EE;&#x5F55;</span>
                <span class="token function">kobject_init_and_add</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>priv<span class="token operator">-&gt;</span>kobj<span class="token punctuation">,</span> <span class="token operator">&amp;</span>driver_ktype<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span> drv<span class="token operator">-&gt;</span>name<span class="token punctuation">)</span>
                <span class="token comment">//drv&#x6DFB;&#x52A0;&#x5230;&#x603B;&#x7EBF;&#x9A71;&#x52A8;&#x94FE;&#x8868;&#x4E0A;</span>
                <span class="token function">klist_add_tail</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>priv<span class="token operator">-&gt;</span>knode_bus<span class="token punctuation">,</span> <span class="token operator">&amp;</span>bus<span class="token operator">-&gt;</span>p<span class="token operator">-&gt;</span>klist_drivers<span class="token punctuation">)</span>
                <span class="token comment">//&#x5F00;&#x59CB;&#x5339;&#x914D;&#x9A71;&#x52A8;&#x548C;&#x8BBE;&#x5907;</span>
                <span class="token function">driver_attach</span><span class="token punctuation">(</span>drv<span class="token punctuation">)</span>
                    <span class="token comment">//&#x5BF9;bus&#x4E0B;&#x9762;&#x7684;&#x6BCF;&#x4E2A;&#x8BBE;&#x5907;&#x8C03;&#x7528;__driver_attach</span>
                    <span class="token function">bus_for_each_dev</span><span class="token punctuation">(</span>drv<span class="token operator">-&gt;</span>bus<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> drv<span class="token punctuation">,</span> __driver_attach<span class="token punctuation">)</span>
                        <span class="token function">__driver_attach</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">device</span> <span class="token operator">*</span>dev<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span>data<span class="token punctuation">)</span>
                        <span class="token keyword">struct</span> <span class="token class-name">device_driver</span> <span class="token operator">*</span>drv <span class="token operator">=</span> data
                        <span class="token function">driver_match_device</span><span class="token punctuation">(</span>drv<span class="token punctuation">,</span> dev<span class="token punctuation">)</span>
                            <span class="token comment">//bus-&gt;match&#x5373;platform_match</span>
                            <span class="token comment">//&#x4F18;&#x5148;&#x4ECE;fdt&#x91CC;&#x9762;match, &#x7136;&#x540E;&#x4F9D;&#x6B21;&#x662F;ACPI, id table, name</span>
                            drv<span class="token operator">-&gt;</span>bus<span class="token operator">-&gt;</span><span class="token function">match</span><span class="token punctuation">(</span>dev<span class="token punctuation">,</span> drv<span class="token punctuation">)</span> <span class="token comment">//match&#x5373;platform_match(dev, drv)</span>
                        <span class="token comment">//&#x5982;&#x679C;match, &#x7ED1;&#x5B9A;drv&#x548C;dev</span>
                        <span class="token function">driver_probe_device</span><span class="token punctuation">(</span>drv<span class="token punctuation">,</span> dev<span class="token punctuation">)</span>
                            <span class="token function">really_probe</span><span class="token punctuation">(</span>dev<span class="token punctuation">,</span> drv<span class="token punctuation">)</span>
                                <span class="token comment">//&#x6682;&#x65F6;&#x628A;dev&#x7684;driver&#x6307;&#x9488;&#x7F6E;&#x4E3A;&#x5F53;&#x524D;drv</span>
                                dev<span class="token operator">-&gt;</span>driver <span class="token operator">=</span> drv
                                <span class="token comment">//sysfs&#x4E2D;&#x7ED1;&#x5B9A;drv&#x548C;dev</span>
                                <span class="token function">driver_sysfs_add</span><span class="token punctuation">(</span>dev<span class="token punctuation">)</span>
                                    <span class="token comment">//&#x8C03;&#x7528;BUS_NOTIFY_BIND_DRIVER call chain</span>
                                    <span class="token function">blocking_notifier_call_chain</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>dev<span class="token operator">-&gt;</span>bus<span class="token operator">-&gt;</span>p<span class="token operator">-&gt;</span>bus_notifier<span class="token punctuation">,</span> BUS_NOTIFY_BIND_DRIVER<span class="token punctuation">,</span> dev<span class="token punctuation">)</span>
                                    <span class="token comment">//&#x5728;sysfs&#x4E2D;, drv&#x548C;dev&#x4E92;&#x76F8;&#x521B;&#x5EFA;&#x94FE;&#x63A5;</span>
                                    <span class="token function">sysfs_create_link</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>dev<span class="token operator">-&gt;</span>driver<span class="token operator">-&gt;</span>p<span class="token operator">-&gt;</span>kobj<span class="token punctuation">,</span> <span class="token operator">&amp;</span>dev<span class="token operator">-&gt;</span>kobj<span class="token punctuation">,</span> <span class="token function">kobject_name</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>dev<span class="token operator">-&gt;</span>kobj<span class="token punctuation">)</span><span class="token punctuation">)</span>
                                    <span class="token function">sysfs_create_link</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>dev<span class="token operator">-&gt;</span>kobj<span class="token punctuation">,</span> <span class="token operator">&amp;</span>dev<span class="token operator">-&gt;</span>driver<span class="token operator">-&gt;</span>p<span class="token operator">-&gt;</span>kobj<span class="token punctuation">,</span> <span class="token string">&quot;driver&quot;</span><span class="token punctuation">)</span>
                                <span class="token comment">//platform&#x7684;bus&#x6CA1;&#x6709;probe&#x65B9;&#x6CD5;, &#x4E0D;&#x8C03;&#x7528;dev-&gt;bus-&gt;probe(dev)</span>
                                drv<span class="token operator">-&gt;</span><span class="token function">probe</span><span class="token punctuation">(</span>dev<span class="token punctuation">)</span> <span class="token comment">//&#x5728;&#x8FD9;&#x91CC;&#x5C31;&#x662F;platform_drv_probe(struct device *_dev)</span>
                                    <span class="token comment">//&#x628A;platform&#x7684;drv&#x548C;dev&#x901A;&#x8FC7;&#x6307;&#x9488;&#x504F;&#x79FB;&#x627E;&#x56DE;&#x6765;</span>
                                    drv <span class="token operator">=</span> <span class="token function">to_platform_driver</span><span class="token punctuation">(</span>_dev<span class="token operator">-&gt;</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    dev <span class="token operator">=</span> <span class="token function">to_platform_device</span><span class="token punctuation">(</span>_dev<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token comment">//&#x8C03;&#x7528;&#x5177;&#x4F53;drv&#x7684;probe, &#x6BD4;&#x5982;octeon_nand_probe(struct platform_device *pdev)</span>
                                    drv<span class="token operator">-&gt;</span><span class="token function">probe</span><span class="token punctuation">(</span>dev<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                        <span class="token comment">//&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x89C1;&#x4E0B;&#x6BD4;&#x5982;octeon_nand_probe()</span>
                                <span class="token function">driver_bound</span><span class="token punctuation">(</span>dev<span class="token punctuation">)</span>
                                    <span class="token comment">//&#x628A;dev&#x7684;p-&gt;knode_driver&#x52A0;&#x5230;drv&#x7684;p-&gt;klist_devices&#x94FE;&#x8868;&#x5C3E;&#x90E8;</span>
                                    <span class="token function">klist_add_tail</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>dev<span class="token operator">-&gt;</span>p<span class="token operator">-&gt;</span>knode_driver<span class="token punctuation">,</span> <span class="token operator">&amp;</span>dev<span class="token operator">-&gt;</span>driver<span class="token operator">-&gt;</span>p<span class="token operator">-&gt;</span>klist_devices<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//&#x6DFB;&#x52A0;drv&#x7684;module</span>
                <span class="token function">module_add_driver</span><span class="token punctuation">(</span>drv<span class="token operator">-&gt;</span>owner<span class="token punctuation">,</span> drv<span class="token punctuation">)</span>
                <span class="token comment">//&#x5728;sysfs&#x7684;&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x6587;&#x4EF6;uevent&#x5C5E;&#x6027;&#x6587;&#x4EF6;</span>
                <span class="token function">driver_create_file</span><span class="token punctuation">(</span>drv<span class="token punctuation">,</span> <span class="token operator">&amp;</span>driver_attr_uevent<span class="token punctuation">)</span>
                <span class="token comment">//&#x7ED9;driver&#x6DFB;&#x52A0;bus&#x4E0A;&#x7684;&#x6240;&#x6709;&#x5C5E;&#x6027;</span>
                <span class="token function">driver_add_attrs</span><span class="token punctuation">(</span>bus<span class="token punctuation">,</span> drv<span class="token punctuation">)</span>
                <span class="token comment">//&#x6DFB;&#x52A0;&#x7ED1;&#x5B9A;&#x6587;&#x4EF6;&#xFF0C;driver_attr_bind &#x548C; driver_attr_unbind</span>
                <span class="token function">add_bind_files</span><span class="token punctuation">(</span>drv<span class="token punctuation">)</span>
            <span class="token function">driver_add_groups</span><span class="token punctuation">(</span>drv<span class="token punctuation">,</span> drv<span class="token operator">-&gt;</span>groups<span class="token punctuation">)</span>
            <span class="token comment">//&#x4EA7;&#x751F;&#x4E00;&#x4E2A;KOBJ_ADD uevent</span>
            <span class="token function">kobject_uevent</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>drv<span class="token operator">-&gt;</span>p<span class="token operator">-&gt;</span>kobj<span class="token punctuation">,</span> KOBJ_ADD<span class="token punctuation">)</span>
</code></pre>
<pre class="language-"><code class="lang-c"><span class="token function">octeon_nand_probe</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">platform_device</span> <span class="token operator">*</span>pdev<span class="token punctuation">)</span>
    <span class="token comment">//&#x4ECE;dts&#x4E2D;&#x89E3;&#x6790;&#x6240;&#x6709;nand chip</span>
    <span class="token comment">//read nand id, onfi&#x8BFB;nand&#x82AF;&#x7247;&#x53C2;&#x6570;</span>
    <span class="token function">cvmx_nand_initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//&#x7533;&#x8BF7;priv&#x7ED3;&#x6784;, &#x5BF9;&#x6BCF;&#x4E2A;&#x5E95;&#x5C42;&#x9A71;&#x52A8;&#x6765;&#x8BF4;, &#x8FD9;&#x4E2A;&#x7ED3;&#x6784;&#x90FD;&#x81F3;&#x5173;&#x91CD;&#x8981;</span>
    priv <span class="token operator">=</span> <span class="token function">devm_kzalloc</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pdev<span class="token operator">-&gt;</span>dev<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">octeon_nand</span><span class="token punctuation">)</span><span class="token punctuation">,</span> GFP_KERNEL<span class="token punctuation">)</span>
    <span class="token comment">/* ecc mode &#x9ED8;&#x8BA4;&#x4E3A;NAND_ECC_SOFT_BCH, &#x5176;&#x4ED6;&#x53EF;&#x9009;&#x503C;&#x4E3A;
    ** NAND_ECC_NONE,NAND_ECC_SOFT,NAND_ECC_HW,NAND_ECC_HW_SYNDROME,NAND_ECC_HW_OOB_FIRST,
    */</span>
    <span class="token comment">//&#x586B;priv&#x7ED3;&#x6784;</span>
    priv<span class="token operator">-&gt;</span>mtd<span class="token punctuation">.</span>owner <span class="token operator">=</span> THIS_MODULE
    priv<span class="token operator">-&gt;</span>mtd<span class="token punctuation">.</span>priv <span class="token operator">=</span> <span class="token operator">&amp;</span>priv<span class="token operator">-&gt;</span>nand
    <span class="token function">memset</span><span class="token punctuation">(</span>priv<span class="token operator">-&gt;</span>data<span class="token punctuation">,</span> <span class="token number">0xff</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>priv<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
    priv<span class="token operator">-&gt;</span>dev <span class="token operator">=</span> <span class="token operator">&amp;</span>pdev<span class="token operator">-&gt;</span>dev
    priv<span class="token operator">-&gt;</span>selected_chip <span class="token operator">=</span> chip
    priv<span class="token operator">-&gt;</span>nand<span class="token punctuation">.</span>ecc<span class="token punctuation">.</span>mode <span class="token operator">=</span> NAND_ECC_SOFT_BCH
    priv<span class="token operator">-&gt;</span>nand<span class="token punctuation">.</span>ecc<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">512</span>
    priv<span class="token operator">-&gt;</span>nand<span class="token punctuation">.</span>ecc<span class="token punctuation">.</span>bytes <span class="token operator">=</span> <span class="token number">7</span>
    priv<span class="token operator">-&gt;</span>nand<span class="token punctuation">.</span>read_byte <span class="token operator">=</span> octeon_nand_read_byte
    priv<span class="token operator">-&gt;</span>nand<span class="token punctuation">.</span>read_word <span class="token operator">=</span> octeon_nand_read_word
    priv<span class="token operator">-&gt;</span>nand<span class="token punctuation">.</span>write_buf <span class="token operator">=</span> octeon_nand_write_buf
    priv<span class="token operator">-&gt;</span>nand<span class="token punctuation">.</span>read_buf <span class="token operator">=</span> octeon_nand_read_buf
    priv<span class="token operator">-&gt;</span>nand<span class="token punctuation">.</span>select_chip <span class="token operator">=</span> octeon_nand_select_chip
    <span class="token comment">//&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7684;&#x6D3B;&#x90FD;&#x7531;octeon_nand_cmdfunc&#x5B8C;&#x6210;</span>
    priv<span class="token operator">-&gt;</span>nand<span class="token punctuation">.</span>cmdfunc <span class="token operator">=</span> octeon_nand_cmdfunc
    priv<span class="token operator">-&gt;</span>nand<span class="token punctuation">.</span>init_size <span class="token operator">=</span> octeon_nand_init_size
    <span class="token function">octeon_nand_scan_onfi</span><span class="token punctuation">(</span>priv<span class="token punctuation">)</span>
        <span class="token comment">//&#x786E;&#x5B9A;ecc&#x6A21;&#x5F0F;, &#x5B9E;&#x9645;&#x4E3A;NAND_ECC_HW_SYNDROME, &#x5373;hardware ECC syndrome</span>
        <span class="token comment">//&#x56E0;&#x4E3A;onfi_params.ecc_bits=4, &#x5E76;&#x4E14;&#x6709;OCTEON_FEATURE_BCH</span>
        <span class="token comment">//octeon_nand_scan_onfi NAND chip 1 using hw_bch ECC for 4 bits of correction per 512 byte block. ECC size is 8 bytes</span>
    <span class="token function">octeon_nand_hw_bch_init</span><span class="token punctuation">(</span>priv<span class="token punctuation">)</span>
        <span class="token comment">//octeon_nand_calc_ecc_layout layout eccbytes: 32, free offset: 2, free length: 30</span>
    <span class="token comment">//&#x626B;&#x63CF;&#x6BCF;&#x4E2A;page&#x7684;oob, &#x5EFA;&#x7ACB;bbt:bad block table, &#x53CA;&#x5176;&#x4ED6;mtd/chip &#x7ED3;&#x6784;</span>
    <span class="token function">nand_scan</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>priv<span class="token operator">-&gt;</span>mtd<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment">//mtd&#x7684;name&#x8BBE;&#x4E3A;octeon_nand%d</span>
    priv<span class="token operator">-&gt;</span>mtd<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token operator">&amp;</span>pdev<span class="token operator">-&gt;</span>dev
    <span class="token comment">//static const char *part_probes[] = { &quot;cmdlinepart&quot;, NULL }</span>
    <span class="token function">mtd_device_parse_register</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>priv<span class="token operator">-&gt;</span>mtd<span class="token punctuation">,</span> part_probes<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token function">parse_mtd_partitions</span><span class="token punctuation">(</span>mtd<span class="token punctuation">,</span> types<span class="token punctuation">,</span> <span class="token operator">&amp;</span>real_parts<span class="token punctuation">,</span> parser_data<span class="token punctuation">)</span>
        <span class="token function">add_mtd_device</span><span class="token punctuation">(</span>mtd<span class="token punctuation">)</span>
    octeon_nand_open_mtd<span class="token punctuation">[</span>chip<span class="token punctuation">]</span> <span class="token operator">=</span> priv
</code></pre>
<h2 id="&#x8C03;&#x8BD5;"><a name="&#x8C03;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#&#x8C03;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>3.3. &#x8C03;&#x8BD5;</h2>
<h3 id="&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;&#x5316;&#x7B80;"><a name="&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;&#x5316;&#x7B80;" class="anchor-navigation-ex-anchor" href="#&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;&#x5316;&#x7B80;"><i class="fa fa-link" aria-hidden="true"></i></a>3.3.1. &#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;&#x5316;&#x7B80;</h3>
<pre class="language-"><code class="lang-sh">~ <span class="token comment"># cat /etc/ubi_devices.config</span>
<span class="token comment"># See mount_ubi for details.</span>
<span class="token assign-left variable">ubidevnr</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">mtddev</span><span class="token operator">=</span>/dev/mtd_nand
~ <span class="token comment">#</span>
~ <span class="token comment"># cat /etc/ubi_volumes.config</span>
<span class="token comment"># See mount_ubi for details</span>
<span class="token assign-left variable">ubidevnr</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">volname</span><span class="token operator">=</span>meta <span class="token assign-left variable">mountpoint</span><span class="token operator">=</span> <span class="token assign-left variable">size</span><span class="token operator">=</span>lebs:1
<span class="token assign-left variable">ubidevnr</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">volname</span><span class="token operator">=</span>data <span class="token assign-left variable">mountpoint</span><span class="token operator">=</span>/mnt/nand <span class="token assign-left variable">size</span><span class="token operator">=</span>
~ <span class="token comment">#</span>
~ <span class="token comment"># cat /etc/ubi_symlinks.config</span>
<span class="token comment"># See mount_ubi for details.</span>
<span class="token assign-left variable">linkdst</span><span class="token operator">=</span>/mnt/nand <span class="token assign-left variable">linksrc</span><span class="token operator">=</span>/mnt/persistent
</code></pre>
<pre class="language-"><code class="lang-sh"><span class="token comment">#attach MTD device 6 (mtd6) to UBI and create UBI device number 0 (ubi0)</span>
ubiattach <span class="token parameter variable">-p</span> /dev/mtd6 <span class="token parameter variable">-d</span> <span class="token number">0</span>
<span class="token comment">#leb:logical eraseblocks, &#x8FD9;&#x91CC;nand&#x7684;&#x64E6;&#x5199;&#x5355;&#x4F4D;&#x662F;block, 128k</span>
ubimkvol /dev/ubi0 <span class="token parameter variable">-N</span> meta <span class="token parameter variable">--lebs</span><span class="token operator">=</span><span class="token number">1</span>
ubimkvol /dev/ubi0 <span class="token parameter variable">-N</span> data <span class="token parameter variable">--maxavsize</span>
<span class="token comment">#mount</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /mnt/nand
<span class="token function">mount</span> <span class="token parameter variable">-t</span> ubifs ubi0:data /mnt/nand
<span class="token comment">#datach</span>
ubidetach <span class="token parameter variable">-p</span> /dev/mtd6
<span class="token comment">#&#x4E0D;&#x7528;attach&#x5C31;&#x53EF;&#x4EE5;format</span>
ubiformat <span class="token parameter variable">-yq</span> /dev/mtd6
</code></pre>
<h3 id="attach&#x7ED3;&#x679C;"><a name="attach&#x7ED3;&#x679C;" class="anchor-navigation-ex-anchor" href="#attach&#x7ED3;&#x679C;"><i class="fa fa-link" aria-hidden="true"></i></a>3.3.2. attach&#x7ED3;&#x679C;</h3>
<pre class="language-"><code class="lang-sh">/user <span class="token comment"># ubiattach -p /dev/mtd6 -d 0</span>
<span class="token punctuation">[</span> <span class="token number">222.657944</span><span class="token punctuation">]</span> UBI: attaching mtd6 to ubi0
<span class="token punctuation">[</span> <span class="token number">223.012711</span><span class="token punctuation">]</span> UBI: scanning is finished
<span class="token punctuation">[</span> <span class="token number">223.038015</span><span class="token punctuation">]</span> UBI: attached mtd6 <span class="token punctuation">(</span>name <span class="token string">&quot;nand&quot;</span>, size <span class="token number">128</span> MiB<span class="token punctuation">)</span> to ubi0
<span class="token punctuation">[</span> <span class="token number">223.056902</span><span class="token punctuation">]</span> UBI: PEB size: <span class="token number">131072</span> bytes <span class="token punctuation">(</span><span class="token number">128</span> KiB<span class="token punctuation">)</span>, LEB size: <span class="token number">129024</span> bytes
<span class="token punctuation">[</span> <span class="token number">223.076382</span><span class="token punctuation">]</span> UBI: min./max. I/O unit sizes: <span class="token number">2048</span>/2048, sub-page size <span class="token number">512</span>
<span class="token punctuation">[</span> <span class="token number">223.095681</span><span class="token punctuation">]</span> UBI: VID header offset: <span class="token number">512</span> <span class="token punctuation">(</span>aligned <span class="token number">512</span><span class="token punctuation">)</span>, data offset: <span class="token number">2048</span>
<span class="token punctuation">[</span> <span class="token number">223.115068</span><span class="token punctuation">]</span> UBI: good PEBs: <span class="token number">1024</span>, bad PEBs: <span class="token number">0</span>, corrupted PEBs: <span class="token number">0</span>
<span class="token punctuation">[</span> <span class="token number">223.133761</span><span class="token punctuation">]</span> UBI: user volume: <span class="token number">0</span>, internal volumes: <span class="token number">1</span>, max. volumes count: <span class="token number">128</span>
<span class="token punctuation">[</span> <span class="token number">223.153584</span><span class="token punctuation">]</span> UBI: max/mean erase counter: <span class="token number">0</span>/0, WL threshold: <span class="token number">4096</span>, image sequence number: <span class="token number">1121128680</span>
<span class="token punctuation">[</span> <span class="token number">223.175315</span><span class="token punctuation">]</span> UBI: available PEBs: <span class="token number">1000</span>, total reserved PEBs: <span class="token number">24</span>, PEBs reserved <span class="token keyword">for</span> bad PEB handling: <span class="token number">20</span>
<span class="token punctuation">[</span> <span class="token number">223.197328</span><span class="token punctuation">]</span> UBI: background thread <span class="token string">&quot;ubi_bgt0d&quot;</span> started, PID <span class="token number">1210</span>
UBI device number <span class="token number">0</span>, total <span class="token number">1024</span> LEBs <span class="token punctuation">(</span><span class="token number">132120576</span> bytes, <span class="token number">126.0</span> MiB<span class="token punctuation">)</span>, available <span class="token number">1000</span> LEBs <span class="token punctuation">(</span><span class="token number">129024000</span> bytes, <span class="token number">123.0</span> MiB<span class="token punctuation">)</span>, LEB size <span class="token number">129024</span> bytes <span class="token punctuation">(</span><span class="token number">126.0</span> KiB<span class="token punctuation">)</span>
</code></pre>
<h3 id="&#x9519;&#x8BEF;1"><a name="&#x9519;&#x8BEF;1" class="anchor-navigation-ex-anchor" href="#&#x9519;&#x8BEF;1"><i class="fa fa-link" aria-hidden="true"></i></a>3.3.3. &#x9519;&#x8BEF;1</h3>
<pre class="language-"><code class="lang-sh">/user <span class="token comment"># ubiattach -p /dev/mtd6 -d 0</span>
<span class="token punctuation">[</span> <span class="token number">246.687282</span><span class="token punctuation">]</span> UBI: attaching mtd6 to ubi0
<span class="token punctuation">[</span> <span class="token number">247.041904</span><span class="token punctuation">]</span> UBI: scanning is finished
<span class="token punctuation">[</span> <span class="token number">247.061929</span><span class="token punctuation">]</span> UBI warning: ubi_io_read: error <span class="token parameter variable">-77</span> <span class="token punctuation">(</span>ECC error<span class="token punctuation">)</span> <span class="token keyword">while</span> reading <span class="token number">22528</span> bytes from PEB <span class="token number">271</span>:2048, <span class="token builtin class-name">read</span> only <span class="token number">22528</span> bytes, retry
<span class="token punctuation">[</span> <span class="token number">247.090222</span><span class="token punctuation">]</span> UBI warning: ubi_io_read: error <span class="token parameter variable">-77</span> <span class="token punctuation">(</span>ECC error<span class="token punctuation">)</span> <span class="token keyword">while</span> reading <span class="token number">22528</span> bytes from PEB <span class="token number">271</span>:2048, <span class="token builtin class-name">read</span> only <span class="token number">22528</span> bytes, retry
<span class="token punctuation">[</span> <span class="token number">247.118534</span><span class="token punctuation">]</span> UBI warning: ubi_io_read: error <span class="token parameter variable">-77</span> <span class="token punctuation">(</span>ECC error<span class="token punctuation">)</span> <span class="token keyword">while</span> reading <span class="token number">22528</span> bytes from PEB <span class="token number">271</span>:2048, <span class="token builtin class-name">read</span> only <span class="token number">22528</span> bytes, retry
<span class="token punctuation">[</span> <span class="token number">247.146826</span><span class="token punctuation">]</span> UBI error: ubi_io_read: error <span class="token parameter variable">-77</span> <span class="token punctuation">(</span>ECC error<span class="token punctuation">)</span> <span class="token keyword">while</span> reading <span class="token number">22528</span> bytes from PEB <span class="token number">271</span>:2048, <span class="token builtin class-name">read</span> <span class="token number">22528</span> bytes
<span class="token punctuation">[</span> <span class="token number">247.170303</span><span class="token punctuation">]</span> CPU: <span class="token number">0</span> PID: <span class="token number">1140</span> Comm: ubiattach Tainted: G O <span class="token number">3.10</span>.20-rt14-Cavium-Octeon <span class="token comment">#37</span>
<span class="token punctuation">[</span> <span class="token number">247.191948</span><span class="token punctuation">]</span> Stack <span class="token builtin class-name">:</span> 0000000040808000 ffffffff80171db8 0000000000000000 0000000000000000
          0000000000000000 0000000000000000 0000000000000000 0000000000000000
          000000000000000d 0000000000000000 0000000000000001 0000000000000000
          0000000000000010 0000000000000000 0000000000000000 0000000000000000
          ffffffff816e0000 ffffffff816d0000 ffffffff80667c98 ffffffff80715477
          ffffffff816c8d80 800000008c3a7858 0000000000000474 0000000000000000
          ffffffff80597150 ffffffff80698e60 800000008c232000 ffffffff8054213c
          800000008985bad8 800000008985b9d0 ffffffff80710448 ffffffff8040e654
          800000008c3a7520 ffffffff80667c98 0000000000000000 0000000000000474
          0000000000000000 ffffffff8014fa48 0000000000000000 0000000000000000
          <span class="token punctuation">..</span>.
<span class="token punctuation">[</span> <span class="token number">247.929641</span><span class="token punctuation">]</span> Call Trace:
<span class="token punctuation">[</span> <span class="token number">247.944784</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8014fa4<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> show_stack+0xc0/0xe0
<span class="token punctuation">[</span> <span class="token number">247.962528</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8040e65<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> ubi_io_read+0x1fc/0x3d8
<span class="token punctuation">[</span> <span class="token number">247.980533</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff804047c<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> ubi_read_volume_table+0x168/0xae0
<span class="token punctuation">[</span> <span class="token number">247.999402</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8041471<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> ubi_attach+0xa80/0x14b0
<span class="token punctuation">[</span> <span class="token number">248.017401</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff804085c<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> ubi_attach_mtd_dev+0x710/0xcd0
<span class="token punctuation">[</span> <span class="token number">248.036006</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff80408e5<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> ctrl_cdev_ioctl+0xf8/0x1b8
<span class="token punctuation">[</span> <span class="token number">248.054265</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff802bcc6<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> compat_sys_ioctl+0xa4/0xe30
<span class="token punctuation">[</span> <span class="token number">248.072612</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff80159c3<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> handle_sys+0x134/0x160
</code></pre>
<h3 id="&#x9519;&#x8BEF;2"><a name="&#x9519;&#x8BEF;2" class="anchor-navigation-ex-anchor" href="#&#x9519;&#x8BEF;2"><i class="fa fa-link" aria-hidden="true"></i></a>3.3.4. &#x9519;&#x8BEF;2</h3>
<pre class="language-"><code class="lang-sh">/user <span class="token comment"># ubiattach -p /dev/mtd6 -d 0</span>
<span class="token punctuation">[</span> <span class="token number">246.687282</span><span class="token punctuation">]</span> UBI: attaching mtd6 to ubi0
<span class="token punctuation">[</span> <span class="token number">247.041904</span><span class="token punctuation">]</span> UBI: scanning is finished
<span class="token punctuation">[</span> <span class="token number">247.061929</span><span class="token punctuation">]</span> UBI warning: ubi_io_read: error <span class="token parameter variable">-77</span> <span class="token punctuation">(</span>ECC error<span class="token punctuation">)</span> <span class="token keyword">while</span> reading <span class="token number">22528</span> bytes from PEB <span class="token number">271</span>:2048, <span class="token builtin class-name">read</span> only <span class="token number">22528</span> bytes, retry
<span class="token punctuation">[</span> <span class="token number">247.090222</span><span class="token punctuation">]</span> UBI warning: ubi_io_read: error <span class="token parameter variable">-77</span> <span class="token punctuation">(</span>ECC error<span class="token punctuation">)</span> <span class="token keyword">while</span> reading <span class="token number">22528</span> bytes from PEB <span class="token number">271</span>:2048, <span class="token builtin class-name">read</span> only <span class="token number">22528</span> bytes, retry
<span class="token punctuation">[</span> <span class="token number">247.118534</span><span class="token punctuation">]</span> UBI warning: ubi_io_read: error <span class="token parameter variable">-77</span> <span class="token punctuation">(</span>ECC error<span class="token punctuation">)</span> <span class="token keyword">while</span> reading <span class="token number">22528</span> bytes from PEB <span class="token number">271</span>:2048, <span class="token builtin class-name">read</span> only <span class="token number">22528</span> bytes, retry
<span class="token punctuation">[</span> <span class="token number">247.146826</span><span class="token punctuation">]</span> UBI error: ubi_io_read: error <span class="token parameter variable">-77</span> <span class="token punctuation">(</span>ECC error<span class="token punctuation">)</span> <span class="token keyword">while</span> reading <span class="token number">22528</span> bytes from PEB <span class="token number">271</span>:2048, <span class="token builtin class-name">read</span> <span class="token number">22528</span> bytes
<span class="token punctuation">[</span> <span class="token number">247.170303</span><span class="token punctuation">]</span> CPU: <span class="token number">0</span> PID: <span class="token number">1140</span> Comm: ubiattach Tainted: G O <span class="token number">3.10</span>.20-rt14-Cavium-Octeon <span class="token comment">#37</span>
<span class="token punctuation">[</span> <span class="token number">247.191948</span><span class="token punctuation">]</span> Stack <span class="token builtin class-name">:</span> 0000000040808000 ffffffff80171db8 0000000000000000 0000000000000000
          0000000000000000 0000000000000000 0000000000000000 0000000000000000
          000000000000000d 0000000000000000 0000000000000001 0000000000000000
          0000000000000010 0000000000000000 0000000000000000 0000000000000000
          ffffffff816e0000 ffffffff816d0000 ffffffff80667c98 ffffffff80715477
          ffffffff816c8d80 800000008c3a7858 0000000000000474 0000000000000000
          ffffffff80597150 ffffffff80698e60 800000008c232000 ffffffff8054213c
          800000008985bad8 800000008985b9d0 ffffffff80710448 ffffffff8040e654
          800000008c3a7520 ffffffff80667c98 0000000000000000 0000000000000474
          0000000000000000 ffffffff8014fa48 0000000000000000 0000000000000000
          <span class="token punctuation">..</span>.
<span class="token punctuation">[</span> <span class="token number">247.929641</span><span class="token punctuation">]</span> Call Trace:
<span class="token punctuation">[</span> <span class="token number">247.944784</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8014fa4<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> show_stack+0xc0/0xe0
<span class="token punctuation">[</span> <span class="token number">247.962528</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8040e65<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> ubi_io_read+0x1fc/0x3d8
<span class="token punctuation">[</span> <span class="token number">247.980533</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff804047c<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> ubi_read_volume_table+0x168/0xae0
<span class="token punctuation">[</span> <span class="token number">247.999402</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8041471<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> ubi_attach+0xa80/0x14b0
<span class="token punctuation">[</span> <span class="token number">248.017401</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff804085c<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> ubi_attach_mtd_dev+0x710/0xcd0
<span class="token punctuation">[</span> <span class="token number">248.036006</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff80408e5<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> ctrl_cdev_ioctl+0xf8/0x1b8
<span class="token punctuation">[</span> <span class="token number">248.054265</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff802bcc6<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> compat_sys_ioctl+0xa4/0xe30
<span class="token punctuation">[</span> <span class="token number">248.072612</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff80159c3<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> handle_sys+0x134/0x160
<span class="token punctuation">[</span> <span class="token number">248.090526</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span> <span class="token number">248.108337</span><span class="token punctuation">]</span> UBI warning: ubi_io_read: error <span class="token parameter variable">-77</span> <span class="token punctuation">(</span>ECC error<span class="token punctuation">)</span> <span class="token keyword">while</span> reading <span class="token number">22528</span> bytes from PEB <span class="token number">272</span>:2048, <span class="token builtin class-name">read</span> only <span class="token number">22528</span> bytes, retry
<span class="token punctuation">[</span> <span class="token number">248.136635</span><span class="token punctuation">]</span> UBI warning: ubi_io_read: error <span class="token parameter variable">-77</span> <span class="token punctuation">(</span>ECC error<span class="token punctuation">)</span> <span class="token keyword">while</span> reading <span class="token number">22528</span> bytes from PEB <span class="token number">272</span>:2048, <span class="token builtin class-name">read</span> only <span class="token number">22528</span> bytes, retry
<span class="token punctuation">[</span> <span class="token number">248.164927</span><span class="token punctuation">]</span> UBI warning: ubi_io_read: error <span class="token parameter variable">-77</span> <span class="token punctuation">(</span>ECC error<span class="token punctuation">)</span> <span class="token keyword">while</span> reading <span class="token number">22528</span> bytes from PEB <span class="token number">272</span>:2048, <span class="token builtin class-name">read</span> only <span class="token number">22528</span> bytes, retry
<span class="token punctuation">[</span> <span class="token number">248.193219</span><span class="token punctuation">]</span> UBI error: ubi_io_read: error <span class="token parameter variable">-77</span> <span class="token punctuation">(</span>ECC error<span class="token punctuation">)</span> <span class="token keyword">while</span> reading <span class="token number">22528</span> bytes from PEB <span class="token number">272</span>:2048, <span class="token builtin class-name">read</span> <span class="token number">22528</span> bytes
<span class="token punctuation">[</span> <span class="token number">248.216694</span><span class="token punctuation">]</span> CPU: <span class="token number">1</span> PID: <span class="token number">1140</span> Comm: ubiattach Tainted: G O <span class="token number">3.10</span>.20-rt14-Cavium-Octeon <span class="token comment">#37</span>
<span class="token punctuation">[</span> <span class="token number">248.238338</span><span class="token punctuation">]</span> Stack <span class="token builtin class-name">:</span> 0000000040808000 ffffffff80171db8 0000000000000000 0000000000000000
          0000000000000000 0000000000000000 0000000000000000 0000000000000000
          000000000000000d 0000000000000000 0000000000000001 0000000000000000
          0000000000000010 0000000000000000 0000000000000000 0000000000000000
          ffffffff816e0000 ffffffff816d0000 ffffffff80667c98 ffffffff80715477
          ffffffff816c8d80 800000008c3a7858 0000000000000474 0000000000000001
          ffffffff80597150 ffffffff80698e60 800000008c232000 ffffffff8054213c
          800000008985bad8 800000008985b9d0 ffffffff80710448 ffffffff8040e654
          800000008c3a7520 ffffffff80667c98 0000000000000001 0000000000000474
          0000000000000000 ffffffff8014fa48 0000000000000000 0000000000000000
          <span class="token punctuation">..</span>.
<span class="token punctuation">[</span> <span class="token number">248.976052</span><span class="token punctuation">]</span> Call Trace:
<span class="token punctuation">[</span> <span class="token number">248.991191</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8014fa4<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> show_stack+0xc0/0xe0
<span class="token punctuation">[</span> <span class="token number">249.008933</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8040e65<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> ubi_io_read+0x1fc/0x3d8
<span class="token punctuation">[</span> <span class="token number">249.026939</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff804047c<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> ubi_read_volume_table+0x168/0xae0
<span class="token punctuation">[</span> <span class="token number">249.045806</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8041471<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> ubi_attach+0xa80/0x14b0
<span class="token punctuation">[</span> <span class="token number">249.063804</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff804085c<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> ubi_attach_mtd_dev+0x710/0xcd0
<span class="token punctuation">[</span> <span class="token number">249.082409</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff80408e5<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> ctrl_cdev_ioctl+0xf8/0x1b8
<span class="token punctuation">[</span> <span class="token number">249.100668</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff802bcc6<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> compat_sys_ioctl+0xa4/0xe30
<span class="token punctuation">[</span> <span class="token number">249.119015</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff80159c3<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> handle_sys+0x134/0x160
<span class="token punctuation">[</span> <span class="token number">249.136927</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span> <span class="token number">249.153204</span><span class="token punctuation">]</span> UBI: attached mtd6 <span class="token punctuation">(</span>name <span class="token string">&quot;nand&quot;</span>, size <span class="token number">128</span> MiB<span class="token punctuation">)</span> to ubi0
<span class="token punctuation">[</span> <span class="token number">249.172084</span><span class="token punctuation">]</span> UBI: PEB size: <span class="token number">131072</span> bytes <span class="token punctuation">(</span><span class="token number">128</span> KiB<span class="token punctuation">)</span>, LEB size: <span class="token number">129024</span> bytes
<span class="token punctuation">[</span> <span class="token number">249.191563</span><span class="token punctuation">]</span> UBI: min./max. I/O unit sizes: <span class="token number">2048</span>/2048, sub-page size <span class="token number">512</span>
<span class="token punctuation">[</span> <span class="token number">249.210865</span><span class="token punctuation">]</span> UBI: VID header offset: <span class="token number">512</span> <span class="token punctuation">(</span>aligned <span class="token number">512</span><span class="token punctuation">)</span>, data offset: <span class="token number">2048</span>
<span class="token punctuation">[</span> <span class="token number">249.230252</span><span class="token punctuation">]</span> UBI: good PEBs: <span class="token number">1024</span>, bad PEBs: <span class="token number">0</span>, corrupted PEBs: <span class="token number">0</span>
<span class="token punctuation">[</span> <span class="token number">249.248944</span><span class="token punctuation">]</span> UBI: user volume: <span class="token number">2</span>, internal volumes: <span class="token number">1</span>, max. volumes count: <span class="token number">128</span>
<span class="token punctuation">[</span> <span class="token number">249.268768</span><span class="token punctuation">]</span> UBI: max/mean erase counter: <span class="token number">15</span>/12, WL threshold: <span class="token number">4096</span>, image sequence number: <span class="token number">1553858720</span>
<span class="token punctuation">[</span> <span class="token number">249.290673</span><span class="token punctuation">]</span> UBI: available PEBs: <span class="token number">0</span>, total reserved PEBs: <span class="token number">1024</span>, PEBs reserved <span class="token keyword">for</span> bad PEB handling: <span class="token number">20</span>
<span class="token punctuation">[</span> <span class="token number">249.312684</span><span class="token punctuation">]</span> UBI: background thread <span class="token string">&quot;ubi_bgt0d&quot;</span> started, PID <span class="token number">1144</span>
UBI device number <span class="token number">0</span>, total <span class="token number">1024</span> LEBs <span class="token punctuation">(</span><span class="token number">132120576</span> bytes, <span class="token number">126.0</span> MiB<span class="token punctuation">)</span>, available <span class="token number">0</span> LEBs <span class="token punctuation">(</span><span class="token number">0</span> bytes<span class="token punctuation">)</span>, LEB size <span class="token number">129024</span> bytes <span class="token punctuation">(</span><span class="token number">126.0</span> KiB<span class="token punctuation">)</span>
/user <span class="token comment"># [ 249.340960] Unhandled kernel unaligned access[#1]:</span>
<span class="token punctuation">[</span> <span class="token number">249.361326</span><span class="token punctuation">]</span> CPU: <span class="token number">0</span> PID: <span class="token number">0</span> Comm: swapper/0 Tainted: G O <span class="token number">3.10</span>.20-rt14-Cavium-Octeon <span class="token comment">#37</span>
<span class="token punctuation">[</span> <span class="token number">249.382703</span><span class="token punctuation">]</span> task: ffffffff80715560 ti: ffffffff806d8000 task.ti: ffffffff806d8000
<span class="token punctuation">[</span> <span class="token number">249.402862</span><span class="token punctuation">]</span> $ <span class="token number">0</span> <span class="token builtin class-name">:</span> 0000000000000000 ffffffff80548d6c 0000000000010000 0000000000000003
<span class="token punctuation">[</span> <span class="token number">249.486964</span><span class="token punctuation">]</span> $ <span class="token number">4</span> <span class="token builtin class-name">:</span> 80000000034827b8 <span class="token number">8000000003482808</span> <span class="token number">8000000003482858</span> 0000000000000000
<span class="token punctuation">[</span> <span class="token number">249.571066</span><span class="token punctuation">]</span> $ <span class="token number">8</span> <span class="token builtin class-name">:</span> 00000045a98a140b 0000000000000c50 0000000000000000 0000000000000000
<span class="token punctuation">[</span> <span class="token number">249.655167</span><span class="token punctuation">]</span> <span class="token variable">$12</span> <span class="token builtin class-name">:</span> ffffffff806dba58 000000001000001f ffffffff8027c2a8 800000008c554000
<span class="token punctuation">[</span> <span class="token number">249.739267</span><span class="token punctuation">]</span> <span class="token variable">$16</span> <span class="token builtin class-name">:</span> 7fffffffffffffff <span class="token number">8000000003482280</span> 0000000000000000 ffffffff8078b910
<span class="token punctuation">[</span> <span class="token number">249.823367</span><span class="token punctuation">]</span> <span class="token variable">$20</span> <span class="token builtin class-name">:</span> ffffffff8078b938 ffffffff806dd380 000000008f001160 ffffffff8074f080
<span class="token punctuation">[</span> <span class="token number">249.907467</span><span class="token punctuation">]</span> <span class="token variable">$24</span> <span class="token builtin class-name">:</span> 0000000010016980 ffffffff8014c4f8                                 
<span class="token punctuation">[</span> <span class="token number">249.991568</span><span class="token punctuation">]</span> <span class="token variable">$28</span> <span class="token builtin class-name">:</span> ffffffff806d8000 ffffffff806dba70 80000000034826e0 ffffffff8019c7d8
<span class="token punctuation">[</span> <span class="token number">250.075667</span><span class="token punctuation">]</span> Hi <span class="token builtin class-name">:</span> 0000000000000004
<span class="token punctuation">[</span> <span class="token number">250.091917</span><span class="token punctuation">]</span> Lo <span class="token builtin class-name">:</span> 0000000000000006
<span class="token punctuation">[</span> <span class="token number">250.108177</span><span class="token punctuation">]</span> epc <span class="token builtin class-name">:</span> ffffffff801b6c34 ktime_get_update_offsets+0xc/0x128
<span class="token punctuation">[</span> <span class="token number">250.127467</span><span class="token punctuation">]</span> Tainted: G O
<span class="token punctuation">[</span> <span class="token number">250.143896</span><span class="token punctuation">]</span> ra <span class="token builtin class-name">:</span> ffffffff8019c7d8 hrtimer_interrupt+0xc8/0x408
<span class="token punctuation">[</span> <span class="token number">250.162664</span><span class="token punctuation">]</span> Status: 14101ce2 KX SX UX KERNEL EXL
<span class="token punctuation">[</span> <span class="token number">250.256151</span><span class="token punctuation">]</span> Cause <span class="token builtin class-name">:</span> 00800014
<span class="token punctuation">[</span> <span class="token number">250.271705</span><span class="token punctuation">]</span> BadVA <span class="token builtin class-name">:</span> 00000045a989d776
<span class="token punctuation">[</span> <span class="token number">250.287955</span><span class="token punctuation">]</span> PrId <span class="token builtin class-name">:</span> 000d9600 <span class="token punctuation">(</span>Cavium Octeon III<span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token number">250.305247</span><span class="token punctuation">]</span> Modules linked in: hxdrv<span class="token punctuation">(</span>O<span class="token punctuation">)</span> martini<span class="token punctuation">(</span>O<span class="token punctuation">)</span> fglt_b_reboot_helper<span class="token punctuation">(</span>O<span class="token punctuation">)</span> fglt_b_cpld<span class="token punctuation">(</span>O<span class="token punctuation">)</span> reborn_class<span class="token punctuation">(</span>O<span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token number">250.403603</span><span class="token punctuation">]</span> Process swapper/0 <span class="token punctuation">(</span>pid: <span class="token number">0</span>, <span class="token assign-left variable">threadinfo</span><span class="token operator">=</span>ffffffff806d8000, <span class="token assign-left variable">task</span><span class="token operator">=</span>ffffffff80715560, <span class="token assign-left variable">tls</span><span class="token operator">=</span>0000000000000000<span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token number">250.426453</span><span class="token punctuation">]</span> Stack <span class="token builtin class-name">:</span> 0000000000000001 ffffffff803ce864 ffffffff81760f58 80000000034826e0
          8000000088702e18 ffffffff81761088 ffffffff81761088 0000000000000003
          80000000034827b8 <span class="token number">8000000003482808</span> <span class="token number">8000000003482858</span> 0000000000000023
          ffffffff80710448 0000000000000000 0000000000000000 ffffffff8078b910
          ffffffff8078b938 ffffffff806dd380 000000008f001160 ffffffff8074f080
          ffffffff806d8000 ffffffff801528d8 0000000000000008 ffffffff801e3494
          0000000000000008 ffffffff8014a8c0 ffffffff806dd380 ffffffff807176a8
          ffffffff81630000 0000000000000018 ffffffff8066c7b8 ffffffff80790000
          000000008f001160 ffffffff80790000 ffffffff806d8000 ffffffff801e7740
          0000000000000000 ffffffff81630000 ffffffff81630000 ffffffff801e2984
          <span class="token punctuation">..</span>.
<span class="token punctuation">[</span> <span class="token number">251.163781</span><span class="token punctuation">]</span> Call Trace:
<span class="token punctuation">[</span> <span class="token number">251.178904</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801b6c3<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> ktime_get_update_offsets+0xc/0x128
<span class="token punctuation">[</span> <span class="token number">251.197850</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8019c7d<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> hrtimer_interrupt+0xc8/0x408
<span class="token punctuation">[</span> <span class="token number">251.216278</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801528d<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> c0_compare_interrupt+0x70/0xa0
<span class="token punctuation">[</span> <span class="token number">251.234877</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801e349<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> handle_irq_event_percpu+0xac/0x338
<span class="token punctuation">[</span> <span class="token number">251.253823</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801e774<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> handle_percpu_irq+0x98/0xc8
<span class="token punctuation">[</span> <span class="token number">251.272159</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801e298<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> generic_handle_irq+0x44/0x60
<span class="token punctuation">[</span> <span class="token number">251.290585</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff805496f<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> do_IRQ+0x24/0x30
<span class="token punctuation">[</span> <span class="token number">251.307969</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff80106a2<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> plat_irq_dispatch+0xa0/0xc0
<span class="token punctuation">[</span> <span class="token number">251.326305</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8014a56<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> ret_from_irq+0x0/0x4
<span class="token punctuation">[</span> <span class="token number">251.344033</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8014a8c<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> __r4k_wait+0x20/0x40
<span class="token punctuation">[</span> <span class="token number">251.361762</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801b42b<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> cpu_startup_entry+0x98/0x320
<span class="token punctuation">[</span> <span class="token number">251.380188</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8078d9c<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> start_kernel+0x4b0/0x4d0
<span class="token punctuation">[</span> <span class="token number">251.398264</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span> <span class="token number">251.412428</span><span class="token punctuation">]</span>
Code: 00000000 00000000 00000000 <span class="token operator">&lt;</span>f116c36b<span class="token operator">&gt;</span> 00000000 00000000 00000000 00000000 00000000
<span class="token punctuation">[</span> <span class="token number">251.561874</span><span class="token punctuation">]</span> Unhandled kernel unaligned access<span class="token punctuation">[</span><span class="token comment">#2]:</span>
<span class="token punctuation">[</span> <span class="token number">251.561882</span><span class="token punctuation">]</span> ---<span class="token punctuation">[</span> end trace 852c8e19d7dea6e0 <span class="token punctuation">]</span>---
<span class="token punctuation">[</span> <span class="token number">251.561885</span><span class="token punctuation">]</span> Kernel panic - not syncing: Fatal exception <span class="token keyword">in</span> interrupt
<span class="token punctuation">[</span> <span class="token number">251.561891</span><span class="token punctuation">]</span> reboot_helper: stored panic_counter <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">[</span> <span class="token number">251.561893</span><span class="token punctuation">]</span> reboot_helper: <span class="token assign-left variable">isam_reboot_type</span><span class="token operator">=</span><span class="token string">&apos;warm&apos;</span>
<span class="token punctuation">[</span> <span class="token number">251.561900</span><span class="token punctuation">]</span> reboot-helper: Enabling preserved <span class="token function">ram</span>
<span class="token punctuation">[</span> <span class="token number">251.561902</span><span class="token punctuation">]</span> flush l2 cache.
<span class="token punctuation">[</span> <span class="token number">251.561973</span><span class="token punctuation">]</span> reboot_helper: continuing standard linux <span class="token function">reboot</span>
<span class="token punctuation">[</span> <span class="token number">251.701767</span><span class="token punctuation">]</span> CPU: <span class="token number">1</span> PID: <span class="token number">1144</span> Comm: ubi_bgt0d Tainted: G D O <span class="token number">3.10</span>.20-rt14-Cavium-Octeon <span class="token comment">#37</span>
<span class="token punctuation">[</span> <span class="token number">251.723405</span><span class="token punctuation">]</span> task: 800000008c414040 ti: <span class="token number">8000000089574000</span> task.ti: <span class="token number">8000000089574000</span>
<span class="token punctuation">[</span> <span class="token number">251.743564</span><span class="token punctuation">]</span> Rebooting <span class="token keyword">in</span> <span class="token number">5</span> seconds<span class="token punctuation">..</span>
<span class="token punctuation">[</span> <span class="token number">251.743564</span><span class="token punctuation">]</span> $ <span class="token number">0</span> <span class="token builtin class-name">:</span> 0000000000000000 ffffffff80548d6c 0000000000010000 0000000000000003
<span class="token punctuation">[</span> <span class="token number">251.831227</span><span class="token punctuation">]</span> $ <span class="token number">4</span> <span class="token builtin class-name">:</span> 800000000351a7b8 800000000351a808 800000000351a858 0000000000000007
<span class="token punctuation">[</span> <span class="token number">251.915328</span><span class="token punctuation">]</span> $ <span class="token number">8</span> <span class="token builtin class-name">:</span> 0000000000000000 00000000000005f0 0000000000000000 0000000000000000
<span class="token punctuation">[</span> <span class="token number">251.999428</span><span class="token punctuation">]</span> <span class="token variable">$12</span> <span class="token builtin class-name">:</span> <span class="token number">8000000089577688</span> 000000001000001f 0000000000000017 0000000000000017
<span class="token punctuation">[</span> <span class="token number">252.083528</span><span class="token punctuation">]</span> <span class="token variable">$16</span> <span class="token builtin class-name">:</span> 7fffffffffffffff 800000000351a280 0000000000000000 ffffffff8078b910
<span class="token punctuation">[</span> <span class="token number">252.167628</span><span class="token punctuation">]</span> <span class="token variable">$20</span> <span class="token builtin class-name">:</span> ffffffff8078b938 ffffffff806dd380 0000000000000840 ffffffff8074f080
<span class="token punctuation">[</span> <span class="token number">252.251729</span><span class="token punctuation">]</span> <span class="token variable">$24</span> <span class="token builtin class-name">:</span> 0000000000000004 ffffffff816e0000                                 
<span class="token punctuation">[</span> <span class="token number">252.335829</span><span class="token punctuation">]</span> <span class="token variable">$28</span> <span class="token builtin class-name">:</span> <span class="token number">8000000089574000</span> 80000000895776a0 800000000351a6e0 ffffffff8019c7d8
<span class="token punctuation">[</span> <span class="token number">252.419931</span><span class="token punctuation">]</span> Hi <span class="token builtin class-name">:</span> 0000000000000000
<span class="token punctuation">[</span> <span class="token number">252.436180</span><span class="token punctuation">]</span> Lo <span class="token builtin class-name">:</span> 0000000007270e00
<span class="token punctuation">[</span> <span class="token number">252.452440</span><span class="token punctuation">]</span> epc <span class="token builtin class-name">:</span> ffffffff801b6c34 ktime_get_update_offsets+0xc/0x128
<span class="token punctuation">[</span> <span class="token number">252.471731</span><span class="token punctuation">]</span> Tainted: G D O
<span class="token punctuation">[</span> <span class="token number">252.488159</span><span class="token punctuation">]</span> ra <span class="token builtin class-name">:</span> ffffffff8019c7d8 hrtimer_interrupt+0xc8/0x408
<span class="token punctuation">[</span> <span class="token number">252.506928</span><span class="token punctuation">]</span> Status: 14101ce2 KX SX UX KERNEL EXL
<span class="token punctuation">[</span> <span class="token number">252.600415</span><span class="token punctuation">]</span> Cause <span class="token builtin class-name">:</span> 00800014
<span class="token punctuation">[</span> <span class="token number">252.615969</span><span class="token punctuation">]</span> BadVA <span class="token builtin class-name">:</span> ffffffffffffc36b
<span class="token punctuation">[</span> <span class="token number">252.632218</span><span class="token punctuation">]</span> PrId <span class="token builtin class-name">:</span> 000d9600 <span class="token punctuation">(</span>Cavium Octeon III<span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token number">252.649510</span><span class="token punctuation">]</span> Modules linked in: hxdrv<span class="token punctuation">(</span>O<span class="token punctuation">)</span> martini<span class="token punctuation">(</span>O<span class="token punctuation">)</span> fglt_b_reboot_helper<span class="token punctuation">(</span>O<span class="token punctuation">)</span> fglt_b_cpld<span class="token punctuation">(</span>O<span class="token punctuation">)</span> reborn_class<span class="token punctuation">(</span>O<span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token number">252.747868</span><span class="token punctuation">]</span> Process ubi_bgt0d <span class="token punctuation">(</span>pid: <span class="token number">1144</span>, <span class="token assign-left variable">threadinfo</span><span class="token operator">=</span><span class="token number">8000000089574000</span>, <span class="token assign-left variable">task</span><span class="token operator">=</span>800000008c414040, <span class="token assign-left variable">tls</span><span class="token operator">=</span>0000000000000000<span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token number">252.770978</span><span class="token punctuation">]</span> Stack <span class="token builtin class-name">:</span> 0000000000000001 ffffffff80548bf8 <span class="token number">8000000003277198</span> 800000000351a6e0
          0000000000000001 ffffffff8015e894 80000000899d5a98 0000000000000003
          800000000351a7b8 800000000351a808 800000000351a858 ffffffffffffffff
          ffffffff80710450 0000000000000000 0000000000000000 ffffffff8078b910
          ffffffff8078b938 ffffffff806dd380 0000000000000840 ffffffff8074f080
          00000000021ee000 ffffffff801528d8 0000000000000008 ffffffff801e3494
          0000000000000008 ffffffff8013fc54 ffffffff806dd380 ffffffff807176a8
          ffffffff81630000 0000000000000018 00000000893905f8 ffffffff816c6458
          0000000000000840 ffffffff816c0000 00000000021ee000 ffffffff801e7740
          0000000000000018 ffffffff81630000 ffffffff81630000 ffffffff801e2984
          <span class="token punctuation">..</span>.
<span class="token punctuation">[</span> <span class="token number">253.508306</span><span class="token punctuation">]</span> Call Trace:
<span class="token punctuation">[</span> <span class="token number">253.523429</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801b6c3<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> ktime_get_update_offsets+0xc/0x128
<span class="token punctuation">[</span> <span class="token number">253.542377</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8019c7d<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> hrtimer_interrupt+0xc8/0x408
<span class="token punctuation">[</span> <span class="token number">253.560803</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801528d<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> c0_compare_interrupt+0x70/0xa0
<span class="token punctuation">[</span> <span class="token number">253.579402</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801e349<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> handle_irq_event_percpu+0xac/0x338
<span class="token punctuation">[</span> <span class="token number">253.598349</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801e774<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> handle_percpu_irq+0x98/0xc8
<span class="token punctuation">[</span> <span class="token number">253.616685</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801e298<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> generic_handle_irq+0x44/0x60
<span class="token punctuation">[</span> <span class="token number">253.635112</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff805496f<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> do_IRQ+0x24/0x30
<span class="token punctuation">[</span> <span class="token number">253.652497</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff80106a2<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> plat_irq_dispatch+0xa0/0xc0
<span class="token punctuation">[</span> <span class="token number">253.670833</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8014a56<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> ret_from_irq+0x0/0x4
<span class="token punctuation">[</span> <span class="token number">253.688565</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8013fc5<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> cvmx_nand_page_read+0xe4c/0xfb8
<span class="token punctuation">[</span> <span class="token number">253.707250</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff80148acc<span class="token operator">&gt;</span><span class="token punctuation">]</span> octeon_nand_cmdfunc+0x1fc/0x540
<span class="token punctuation">[</span> <span class="token number">253.725936</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff803ffbc<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> nand_do_read_ops+0x130/0x4a8
<span class="token punctuation">[</span> <span class="token number">253.744359</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8040029<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> nand_read+0x64/0xa0
<span class="token punctuation">[</span> <span class="token number">253.762001</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff803e475<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> part_read+0x40/0x90
<span class="token punctuation">[</span> <span class="token number">253.779644</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff803e1b2<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> mtd_read+0x6c/0xb0
<span class="token punctuation">[</span> <span class="token number">253.797200</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8040e52<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> ubi_io_read+0xd0/0x3d8
<span class="token punctuation">[</span> <span class="token number">253.815103</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8040d26<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> ubi_eba_copy_leb+0x2b0/0x5b0
<span class="token punctuation">[</span> <span class="token number">253.833527</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8041186<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> wear_leveling_worker+0x36c/0x798
<span class="token punctuation">[</span> <span class="token number">253.852299</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff804106ac<span class="token operator">&gt;</span><span class="token punctuation">]</span> do_work+0xa4/0x148
<span class="token punctuation">[</span> <span class="token number">253.869853</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff804126e<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> ubi_thread+0x118/0x1a8
<span class="token punctuation">[</span> <span class="token number">253.887757</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff80197d5<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> kthread+0xb0/0xb8
<span class="token punctuation">[</span> <span class="token number">253.905224</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8014a5e<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> ret_from_kernel_thread+0x14/0x1c
<span class="token punctuation">[</span> <span class="token number">253.923993</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span> <span class="token number">253.938158</span><span class="token punctuation">]</span>
Code: 00000000 00000000 00000000 <span class="token operator">&lt;</span>f116c36b<span class="token operator">&gt;</span> 00000000 00000000 00000000 00000000 00000000
<span class="token punctuation">[</span> <span class="token number">254.087610</span><span class="token punctuation">]</span> Kernel unaligned instruction access<span class="token punctuation">[</span><span class="token comment">#3]:</span>
<span class="token punctuation">[</span> <span class="token number">254.105262</span><span class="token punctuation">]</span> CPU: <span class="token number">3</span> PID: <span class="token number">0</span> Comm: swapper/3 Tainted: G D O <span class="token number">3.10</span>.20-rt14-Cavium-Octeon <span class="token comment">#37</span>
<span class="token punctuation">[</span> <span class="token number">254.126640</span><span class="token punctuation">]</span> task: 800000008c1394a0 ti: 800000008c13c000 task.ti: 800000008c13c000
<span class="token punctuation">[</span> <span class="token number">254.146799</span><span class="token punctuation">]</span> $ <span class="token number">0</span> <span class="token builtin class-name">:</span> 0000000000000000 ffffffff801bc80c 0000000000000001 ffffffff816e0000
<span class="token punctuation">[</span> <span class="token number">254.230901</span><span class="token punctuation">]</span> $ <span class="token number">4</span> <span class="token builtin class-name">:</span> ffffffff816e0000 ffffffff816e0000 00000009532a8285 0000000000000000
<span class="token punctuation">[</span> <span class="token number">254.315001</span><span class="token punctuation">]</span> $ <span class="token number">8</span> <span class="token builtin class-name">:</span> 00000045a98a140b 0000000000000c50 0000000000000000 0000000000000000
<span class="token punctuation">[</span> <span class="token number">254.399100</span><span class="token punctuation">]</span> <span class="token variable">$12</span> <span class="token builtin class-name">:</span> 800000008c13fb98 000000001000001f ffffffff80172878 <span class="token number">8000000089670000</span>
<span class="token punctuation">[</span> <span class="token number">254.483200</span><span class="token punctuation">]</span> <span class="token variable">$16</span> <span class="token builtin class-name">:</span> 0000000000000000 ffffffff80710460 800000000364a928 ffffffff806e0000
<span class="token punctuation">[</span> <span class="token number">254.567298</span><span class="token punctuation">]</span> <span class="token variable">$20</span> <span class="token builtin class-name">:</span> ffffffff806e0000 00000009532a8285 000000008f001160 ffffffff80790000
<span class="token punctuation">[</span> <span class="token number">254.651399</span><span class="token punctuation">]</span> <span class="token variable">$24</span> <span class="token builtin class-name">:</span> 00000000100c4eb0 ffffffff8014c4f8                                 
<span class="token punctuation">[</span> <span class="token number">254.735496</span><span class="token punctuation">]</span> <span class="token variable">$28</span> <span class="token builtin class-name">:</span> 800000008c13c000 800000008c13fbc0 800000008c13c000 0000000000000003
<span class="token punctuation">[</span> <span class="token number">254.819597</span><span class="token punctuation">]</span> Hi <span class="token builtin class-name">:</span> 0000000000000004
<span class="token punctuation">[</span> <span class="token number">254.835846</span><span class="token punctuation">]</span> Lo <span class="token builtin class-name">:</span> 0000000000000006
<span class="token punctuation">[</span> <span class="token number">254.852099</span><span class="token punctuation">]</span> epc <span class="token builtin class-name">:</span> 0000000000000003 0x3
<span class="token punctuation">[</span> <span class="token number">254.868696</span><span class="token punctuation">]</span> Tainted: G D O
<span class="token punctuation">[</span> <span class="token number">254.885120</span><span class="token punctuation">]</span> ra <span class="token builtin class-name">:</span> 0000000000000003 0x3
<span class="token punctuation">[</span> <span class="token number">254.901717</span><span class="token punctuation">]</span> Status: 14109ce2 KX SX UX KERNEL EXL
<span class="token punctuation">[</span> <span class="token number">254.995201</span><span class="token punctuation">]</span> Cause <span class="token builtin class-name">:</span> <span class="token number">40808010</span>
<span class="token punctuation">[</span> <span class="token number">255.010755</span><span class="token punctuation">]</span> BadVA <span class="token builtin class-name">:</span> 0000000000000003
<span class="token punctuation">[</span> <span class="token number">255.027005</span><span class="token punctuation">]</span> PrId <span class="token builtin class-name">:</span> 000d9600 <span class="token punctuation">(</span>Cavium Octeon III<span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token number">255.044296</span><span class="token punctuation">]</span> Modules linked in: hxdrv<span class="token punctuation">(</span>O<span class="token punctuation">)</span> martini<span class="token punctuation">(</span>O<span class="token punctuation">)</span> fglt_b_reboot_helper<span class="token punctuation">(</span>O<span class="token punctuation">)</span> fglt_b_cpld<span class="token punctuation">(</span>O<span class="token punctuation">)</span> reborn_class<span class="token punctuation">(</span>O<span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token number">255.142646</span><span class="token punctuation">]</span> Process swapper/3 <span class="token punctuation">(</span>pid: <span class="token number">0</span>, <span class="token assign-left variable">threadinfo</span><span class="token operator">=</span>800000008c13c000, <span class="token assign-left variable">task</span><span class="token operator">=</span>800000008c1394a0, <span class="token assign-left variable">tls</span><span class="token operator">=</span>0000000000000000<span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token number">255.165495</span><span class="token punctuation">]</span> Stack <span class="token builtin class-name">:</span> 800000000364a928 ffffffff801bd444 0000000000000000 0000000000000003
          ffffffff81630000 ffffffff81630000 0000000000000018 ffffffff8066c7b8
          ffffffff80790000 ffffffff80179080 ffffffff81630000 ffffffff805496ec
          0000000000000008 0000000000000018 ffffffff8066c7b8 ffffffff80106a20
          ffffffff80710000 0000000000000000 ffffffff8070d018 ffffffff8078c1a8
          ffffffff80670000 ffffffff8014a560 0000000000000000 ffffffff801b42b8
          0000000000000000 0000000000000001 800000000364ab98 0000000000000000
          0000000000000140 0000000000000000 800000000364a720 800000000364a730
          800000000364a860 0000000000000000 0000000000000000 0000000000009c00
          ffffffff80172878 <span class="token number">8000000089670000</span> ffffffff80710000 ffffffff8070d018
          <span class="token punctuation">..</span>.
<span class="token punctuation">[</span> <span class="token number">255.902816</span><span class="token punctuation">]</span> Call Trace:
<span class="token punctuation">[</span> <span class="token number">255.930618</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801bd44<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span><span class="token punctuation">]</span> tick_check_idle+0xe4/0x190
<span class="token punctuation">[</span> <span class="token number">255.948871</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8079000<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> plat_mem_setup+0x9c/0x234
<span class="token punctuation">[</span> <span class="token number">255.967036</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8017908<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> irq_enter+0x80/0xb0
<span class="token punctuation">[</span> <span class="token number">255.984678</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff805496ec<span class="token operator">&gt;</span><span class="token punctuation">]</span> do_IRQ+0x1c/0x30
<span class="token punctuation">[</span> <span class="token number">256.002059</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff80106a2<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> plat_irq_dispatch+0xa0/0xc0
<span class="token punctuation">[</span> <span class="token number">256.020396</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8014a56<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> ret_from_irq+0x0/0x4
<span class="token punctuation">[</span> <span class="token number">256.038125</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801b42b<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> cpu_startup_entry+0x98/0x320
<span class="token punctuation">[</span> <span class="token number">256.056552</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8017287<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> SyS_syslog+0x0/0x30
<span class="token punctuation">[</span> <span class="token number">256.074194</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8079000<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> plat_mem_setup+0x9c/0x234
<span class="token punctuation">[</span> <span class="token number">256.092357</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8079000<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> plat_mem_setup+0x9c/0x234
<span class="token punctuation">[</span> <span class="token number">256.110520</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8014c4f<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> r4k_wait+0x0/0x30
<span class="token punctuation">[</span> <span class="token number">256.127988</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801b42b<span class="token operator"><span class="token file-descriptor important">8</span>&gt;</span><span class="token punctuation">]</span> cpu_startup_entry+0x98/0x320
<span class="token punctuation">[</span> <span class="token number">256.146415</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff801ab61<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> account_idle_time+0x50/0xc8
<span class="token punctuation">[</span> <span class="token number">256.164751</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8014a8c<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> __r4k_wait+0x20/0x40
<span class="token punctuation">[</span> <span class="token number">256.182482</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>ffffffff8053e9d<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token punctuation">]</span> kernel_entry+0x0/0x17c
<span class="token punctuation">[</span> <span class="token number">256.200387</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span> <span class="token number">256.214551</span><span class="token punctuation">]</span>
Code: <span class="token punctuation">(</span>Bad address <span class="token keyword">in</span> epc<span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token number">256.243837</span><span class="token punctuation">]</span>
</code></pre>
<h3 id="&#x9519;&#x8BEF;3"><a name="&#x9519;&#x8BEF;3" class="anchor-navigation-ex-anchor" href="#&#x9519;&#x8BEF;3"><i class="fa fa-link" aria-hidden="true"></i></a>3.3.5. &#x9519;&#x8BEF;3</h3>
<pre class="language-"><code class="lang-sh"><span class="token punctuation">[</span><span class="token number">40.39</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.230273</span><span class="token punctuation">]</span> octeon-nand <span class="token number">1070001000000</span>.nand-flash-interface: octeon_nand_hw_bch_read_page octeon_nand_hw_bch_read_page<span class="token punctuation">(</span>800000008c580018, 800000008c580300, c00000000020c000, <span class="token number">0</span>, <span class="token number">65</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">40.39</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.258910</span><span class="token punctuation">]</span> octeon-nand <span class="token number">1070001000000</span>.nand-flash-interface: octeon_nand_read_buf <span class="token assign-left variable">len</span><span class="token operator">=</span><span class="token number">2048</span>
<span class="token punctuation">[</span><span class="token number">40.39</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.279788</span><span class="token punctuation">]</span> octeon-nand <span class="token number">1070001000000</span>.nand-flash-interface: octeon_nand_read_buf <span class="token assign-left variable">len</span><span class="token operator">=</span><span class="token number">64</span>
<span class="token punctuation">[</span><span class="token number">40.39</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.300486</span><span class="token punctuation">]</span> octeon-nand <span class="token number">1070001000000</span>.nand-flash-interface: octeon_nand_hw_bch_read_page Correcting block offset <span class="token number">0</span>, ecc offset <span class="token number">0</span>
<span class="token punctuation">[</span><span class="token number">40.39</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.324752</span><span class="token punctuation">]</span> octeon-nand <span class="token number">1070001000000</span>.nand-flash-interface: octeon_nand_hw_bch_read_page Correcting block offset <span class="token number">512</span>, ecc offset <span class="token number">8</span>
<span class="token punctuation">[</span><span class="token number">40.39</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.349183</span><span class="token punctuation">]</span> octeon-nand <span class="token number">1070001000000</span>.nand-flash-interface: octeon_nand_hw_bch_read_page Correcting block offset <span class="token number">1024</span>, ecc offset <span class="token number">16</span>
<span class="token punctuation">[</span><span class="token number">40.39</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.373792</span><span class="token punctuation">]</span> octeon-nand <span class="token number">1070001000000</span>.nand-flash-interface: octeon_nand_hw_bch_read_page Correcting block offset <span class="token number">1536</span>, ecc offset <span class="token number">24</span>
<span class="token punctuation">[</span><span class="token number">40.39</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.398401</span><span class="token punctuation">]</span> octeon-nand <span class="token number">1070001000000</span>.nand-flash-interface: octeon_nand_cmdfunc READ0 <span class="token assign-left variable">page_addr</span><span class="token operator">=</span>0x42
<span class="token punctuation">[</span><span class="token number">40.39</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.420540</span><span class="token punctuation">]</span> octeon-nand <span class="token number">1070001000000</span>.nand-flash-interface: octeon_nand_hw_bch_read_page octeon_nand_hw_bch_read_page<span class="token punctuation">(</span>800000008c580018, 800000008c580300, c00000000020c800, <span class="token number">0</span>, <span class="token number">66</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">40.39</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.449135</span><span class="token punctuation">]</span> octeon-nand <span class="token number">1070001000000</span>.nand-flash-interface: octeon_nand_read_buf <span class="token assign-left variable">len</span><span class="token operator">=</span><span class="token number">2048</span>
<span class="token punctuation">[</span><span class="token number">40.39</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.470002</span><span class="token punctuation">]</span> octeon-nand <span class="token number">1070001000000</span>.nand-flash-interface: octeon_nand_read_buf <span class="token assign-left variable">len</span><span class="token operator">=</span><span class="token number">64</span>
<span class="token punctuation">[</span><span class="token number">40.39</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.490697</span><span class="token punctuation">]</span> octeon-nand <span class="token number">1070001000000</span>.nand-flash-interface: octeon_nand_hw_bch_read_page Correcting block offset <span class="token number">0</span>, ecc offset <span class="token number">0</span>
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.514958</span><span class="token punctuation">]</span> octeon-nand <span class="token number">1070001000000</span>.nand-flash-interface: octeon_nand_hw_bch_read_page Correcting block offset <span class="token number">512</span>, ecc offset <span class="token number">8</span>
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539393</span><span class="token punctuation">]</span> octeon-nand <span class="token number">1070001000000</span>.nand-flash-interface: octeon_nand_hw_bch_read_page Correcting block ooffffset <span class="token number">110024</span>, eecccc ooffffsseet <span class="token number">166</span>
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2445511.5399443311</span><span class="token punctuation">]</span><span class="token punctuation">]</span> CCPPUU <span class="token number">30</span> UUnnaabble ttoo handdllee kkeerrnneell paggiinng reeqquuest aatt virttuuaal addddrress 000000000000000000001158, eeppcc <span class="token operator">==</span><span class="token operator">==</span> fffffffffffff88001155dd77668, rraa <span class="token operator">==</span> fffffffffffff880014a556644
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539461</span><span class="token punctuation">]</span> CPU <span class="token number">1</span> Unable to handle kernel paging request at virtual address 00000000000001d0, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539476</span><span class="token punctuation">]</span> CPU <span class="token number">0</span> Unable to handle kernel paging request at virtual address 000000008f0012b8, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539492</span><span class="token punctuation">]</span> CPU <span class="token number">0</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539515</span><span class="token punctuation">]</span> CPU <span class="token number">0</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539530</span><span class="token punctuation">]</span> CPU <span class="token number">1</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539567</span><span class="token punctuation">]</span> CPU <span class="token number">0</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539592</span><span class="token punctuation">]</span> CPU <span class="token number">3</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539607</span><span class="token punctuation">]</span> CPU <span class="token number">0</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539620</span><span class="token punctuation">]</span> CPU <span class="token number">1</span> Unable to handle kernel paging request at virtual address 0000000000000101, epc <span class="token operator">==</span> ffffffff80194080, ra <span class="token operator">==</span> ffffffff8019e980
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539664</span><span class="token punctuation">]</span> CPU <span class="token parameter variable">-1</span> Unable to handle kernel paging request at virtual address 0000000000000100, epc <span class="token operator">==</span> ffffffff80194080, ra <span class="token operator">==</span> ffffffff8019e980
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539764</span><span class="token punctuation">]</span> CPU <span class="token number">15</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539855</span><span class="token punctuation">]</span> CPU <span class="token number">15</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539871</span><span class="token punctuation">]</span> CPU <span class="token number">13</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539896</span><span class="token punctuation">]</span> CPU <span class="token number">30</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.539922</span><span class="token punctuation">]</span> CPU <span class="token number">59</span> Unable to handle kernel paging request at virtual address 0000000000000230, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.548618</span><span class="token punctuation">]</span> CPU <span class="token number">12</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.548688</span><span class="token punctuation">]</span> CPU <span class="token number">0</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.586537</span><span class="token punctuation">]</span> CPU <span class="token number">7</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.586555</span><span class="token punctuation">]</span> CPU <span class="token number">0</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.586616</span><span class="token punctuation">]</span> CPU <span class="token number">7</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.586632</span><span class="token punctuation">]</span> CPU <span class="token number">7</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.40</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">2451.586649</span><span class="token punctuation">]</span> CPU <span class="token number">20</span> Unable to handle kernel paging request at virtual address 0000000000000158, epc <span class="token operator">==</span> ffffffff8015d768, ra <span class="token operator">==</span> ffffffff8014a564
<span class="token punctuation">[</span><span class="token number">40.52</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">40.52</span><span class="token punctuation">]</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>ISAM <span class="token assign-left variable">BOOT</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
</code></pre>
<h3 id="&#x5E95;&#x5C42;&#x8BFB;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6808;"><a name="&#x5E95;&#x5C42;&#x8BFB;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6808;" class="anchor-navigation-ex-anchor" href="#&#x5E95;&#x5C42;&#x8BFB;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6808;"><i class="fa fa-link" aria-hidden="true"></i></a>3.3.6. &#x5E95;&#x5C42;&#x8BFB;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6808;</h3>
<pre class="language-"><code class="lang-c">ubi_io_read
    mtd_read
        part_read
            nand_read
                nand_do_read_ops
                    <span class="token comment">//&#x628A;&#x6574;&#x4E2A;page+oob&#x90FD;&#x8BFB;&#x51FA;&#x5230;&#x5185;&#x90E8;buffer, &#x5373;pirv-&gt;data</span>
                    <span class="token function">octeon_nand_cmdfunc</span><span class="token punctuation">(</span>mtd<span class="token operator">=</span><span class="token number">0x80000000885dc018</span><span class="token punctuation">,</span> command<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> column<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> page_addr<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
                        <span class="token keyword">case</span> NAND_CMD_READ0<span class="token operator">:</span>
                            cvmx_nand_page_read
                    <span class="token comment">//&#x5206;4&#x7EC4;&#x6821;&#x6B63;&#x8BFB;&#x5230;&#x7684;page&#x6570;&#x636E;</span>
                    octeon_nand_hw_bch_read_page
</code></pre>
<pre class="language-"><code class="lang-c">#<span class="token number">0</span> <span class="token function">octeon_nand_read_buf</span> <span class="token punctuation">(</span>mtd<span class="token operator">=</span><span class="token number">0x80000000886b0018</span><span class="token punctuation">,</span> buf<span class="token operator">=</span><span class="token number">0xc000000000091000</span> <span class="token string">&quot;\377&quot;</span><span class="token punctuation">,</span> len<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">)</span> at arch<span class="token operator">/</span>mips<span class="token operator">/</span>cavium<span class="token operator">-</span>octeon<span class="token operator">/</span>octeon<span class="token operator">-</span>nand<span class="token punctuation">.</span>c<span class="token operator">:</span><span class="token number">176</span>
#<span class="token number">1</span> <span class="token number">0xffffffff8014710c</span> in <span class="token function">octeon_nand_hw_bch_read_page</span> <span class="token punctuation">(</span>mtd<span class="token operator">=</span><span class="token number">0x80000000886b0018</span><span class="token punctuation">,</span> chip<span class="token operator">=</span><span class="token number">0x80000000886b0300</span><span class="token punctuation">,</span> buf<span class="token operator">=</span><span class="token number">0xc000000000091000</span> <span class="token string">&quot;\377&quot;</span><span class="token punctuation">,</span>
    oob_required<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> page<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">)</span> at arch<span class="token operator">/</span>mips<span class="token operator">/</span>cavium<span class="token operator">-</span>octeon<span class="token operator">/</span>octeon<span class="token operator">-</span>nand<span class="token punctuation">.</span>c<span class="token operator">:</span><span class="token number">217</span>
#<span class="token number">2</span> <span class="token number">0xffffffff803ffbf8</span> in <span class="token function">nand_do_read_ops</span> <span class="token punctuation">(</span>mtd<span class="token operator">=</span>mtd@entry<span class="token operator">=</span><span class="token number">0x80000000886b0018</span><span class="token punctuation">,</span> from<span class="token operator">=</span>from@entry<span class="token operator">=</span><span class="token number">33949696</span><span class="token punctuation">,</span> ops<span class="token operator">=</span>ops@entry<span class="token operator">=</span><span class="token number">0x800000008df7bac0</span><span class="token punctuation">)</span>
    at drivers<span class="token operator">/</span>mtd<span class="token operator">/</span>nand<span class="token operator">/</span>nand_base<span class="token punctuation">.</span>c<span class="token operator">:</span><span class="token number">1473</span>
#<span class="token number">3</span> <span class="token number">0xffffffff80400294</span> in <span class="token function">nand_read</span> <span class="token punctuation">(</span>mtd<span class="token operator">=</span><span class="token number">0x80000000886b0018</span><span class="token punctuation">,</span> from<span class="token operator">=</span><span class="token number">33949696</span><span class="token punctuation">,</span> len<span class="token operator">=</span><span class="token number">22528</span><span class="token punctuation">,</span> retlen<span class="token operator">=</span><span class="token number">0x800000008df7bb70</span><span class="token punctuation">,</span> buf<span class="token operator">=</span><span class="token number">0xc000000000091000</span> <span class="token string">&quot;\377&quot;</span><span class="token punctuation">)</span>
    at drivers<span class="token operator">/</span>mtd<span class="token operator">/</span>nand<span class="token operator">/</span>nand_base<span class="token punctuation">.</span>c<span class="token operator">:</span><span class="token number">1578</span>
#<span class="token number">4</span> <span class="token number">0xffffffff803e4758</span> in <span class="token function">part_read</span> <span class="token punctuation">(</span>mtd<span class="token operator">=</span><span class="token number">0x800000008c57f000</span><span class="token punctuation">,</span> from<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> len<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> retlen<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span>
    buf<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">)</span> at drivers<span class="token operator">/</span>mtd<span class="token operator">/</span>mtdpart<span class="token punctuation">.</span>c<span class="token operator">:</span><span class="token number">68</span>
#<span class="token number">5</span> <span class="token number">0xffffffff803e1b24</span> in <span class="token function">mtd_read</span> <span class="token punctuation">(</span>buf<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> retlen<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> len<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> from<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> 
    mtd<span class="token operator">=</span><span class="token number">0x800000008c57f000</span><span class="token punctuation">)</span> at drivers<span class="token operator">/</span>mtd<span class="token operator">/</span>mtdcore<span class="token punctuation">.</span>c<span class="token operator">:</span><span class="token number">808</span>
#<span class="token number">6</span> <span class="token function">mtd_read</span> <span class="token punctuation">(</span>mtd<span class="token operator">=</span><span class="token number">0x800000008c57f000</span><span class="token punctuation">,</span> from<span class="token operator">=</span>from@entry<span class="token operator">=</span><span class="token number">33949696</span><span class="token punctuation">,</span> len<span class="token operator">=</span>len@entry<span class="token operator">=</span><span class="token number">22528</span><span class="token punctuation">,</span> retlen<span class="token operator">=</span>retlen@entry<span class="token operator">=</span><span class="token number">0x800000008df7bb70</span><span class="token punctuation">,</span>
    buf<span class="token operator">=</span>buf@entry<span class="token operator">=</span><span class="token number">0xc000000000091000</span> <span class="token string">&quot;\377&quot;</span><span class="token punctuation">)</span> at drivers<span class="token operator">/</span>mtd<span class="token operator">/</span>mtdcore<span class="token punctuation">.</span>c<span class="token operator">:</span><span class="token number">793</span>
#<span class="token number">7</span> <span class="token number">0xffffffff8040e528</span> in <span class="token function">ubi_io_read</span> <span class="token punctuation">(</span>ubi<span class="token operator">=</span>ubi@entry<span class="token operator">=</span><span class="token number">0x800000008dfb4000</span><span class="token punctuation">,</span> buf<span class="token operator">=</span><span class="token number">0xc000000000091000</span><span class="token punctuation">,</span> pnum<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> offset<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span>
    len<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">)</span> at drivers<span class="token operator">/</span>mtd<span class="token operator">/</span>ubi<span class="token operator">/</span>io<span class="token punctuation">.</span>c<span class="token operator">:</span><span class="token number">167</span>
#<span class="token number">8</span> <span class="token number">0xffffffff804047c8</span> in <span class="token function">ubi_io_read_data</span> <span class="token punctuation">(</span>buf<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> ubi<span class="token operator">=</span><span class="token number">0x800000008dfb4000</span><span class="token punctuation">,</span> len<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> offset<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> pnum<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">)</span>
    at drivers<span class="token operator">/</span>mtd<span class="token operator">/</span>ubi<span class="token operator">/</span>ubi<span class="token punctuation">.</span>h<span class="token operator">:</span><span class="token number">946</span>
#<span class="token number">9</span> <span class="token function">process_lvol</span> <span class="token punctuation">(</span>av<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> ai<span class="token operator">=</span><span class="token number">0x800000008c1baa80</span><span class="token punctuation">,</span> ubi<span class="token operator">=</span><span class="token number">0x800000008dfb4000</span><span class="token punctuation">)</span> at drivers<span class="token operator">/</span>mtd<span class="token operator">/</span>ubi<span class="token operator">/</span>vtbl<span class="token punctuation">.</span>c<span class="token operator">:</span><span class="token number">418</span>
#<span class="token number">10</span> <span class="token function">ubi_read_volume_table</span> <span class="token punctuation">(</span>ubi<span class="token operator">=</span>ubi@entry<span class="token operator">=</span><span class="token number">0x800000008dfb4000</span><span class="token punctuation">,</span> ai<span class="token operator">=</span>ai@entry<span class="token operator">=</span><span class="token number">0x800000008c1baa80</span><span class="token punctuation">)</span> at drivers<span class="token operator">/</span>mtd<span class="token operator">/</span>ubi<span class="token operator">/</span>vtbl<span class="token punctuation">.</span>c<span class="token operator">:</span><span class="token number">821</span>
#<span class="token number">11</span> <span class="token number">0xffffffff80414710</span> in <span class="token function">ubi_attach</span> <span class="token punctuation">(</span>ubi<span class="token operator">=</span>ubi@entry<span class="token operator">=</span><span class="token number">0x800000008dfb4000</span><span class="token punctuation">,</span> force_scan<span class="token operator">=</span>force_scan@entry<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> at drivers<span class="token operator">/</span>mtd<span class="token operator">/</span>ubi<span class="token operator">/</span>attach<span class="token punctuation">.</span>c<span class="token operator">:</span><span class="token number">1438</span>
#<span class="token number">12</span> <span class="token number">0xffffffff804085c0</span> in <span class="token function">ubi_attach_mtd_dev</span> <span class="token punctuation">(</span>mtd<span class="token operator">=</span>mtd@entry<span class="token operator">=</span><span class="token number">0x800000008c57f000</span><span class="token punctuation">,</span> ubi_num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> vid_hdr_offset<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> max_beb_per1024<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span>
    at drivers<span class="token operator">/</span>mtd<span class="token operator">/</span>ubi<span class="token operator">/</span>build<span class="token punctuation">.</span>c<span class="token operator">:</span><span class="token number">988</span>
#<span class="token number">13</span> <span class="token number">0xffffffff80408e58</span> in <span class="token function">ctrl_cdev_ioctl</span> <span class="token punctuation">(</span>file<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> cmd<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> arg<span class="token operator">=</span><span class="token number">2139068992</span><span class="token punctuation">)</span> at drivers<span class="token operator">/</span>mtd<span class="token operator">/</span>ubi<span class="token operator">/</span>cdev<span class="token punctuation">.</span>c<span class="token operator">:</span><span class="token number">1014</span>
#<span class="token number">14</span> <span class="token number">0xffffffff802bcc64</span> in <span class="token function">compat_sys_ioctl</span> <span class="token punctuation">(</span>fd<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> cmd<span class="token operator">=</span><span class="token operator">&lt;</span>optimized out<span class="token operator">&gt;</span><span class="token punctuation">,</span> arg<span class="token operator">=</span><span class="token number">2139068992</span><span class="token punctuation">)</span> at fs<span class="token operator">/</span>compat_ioctl<span class="token punctuation">.</span>c<span class="token operator">:</span><span class="token number">1590</span>
#<span class="token number">15</span> <span class="token number">0xffffffff80159c34</span> in <span class="token function">handle_sys</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> at arch<span class="token operator">/</span>mips<span class="token operator">/</span>kernel<span class="token operator">/</span>scall64<span class="token operator">-</span>n32<span class="token punctuation">.</span>S<span class="token operator">:</span><span class="token number">57</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="as_title.html" class="navigation navigation-prev " aria-label="Previous page: nand">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="device_driver_nand概率写失败问题分析.html" class="navigation navigation-next " aria-label="Next page: Nand flash概率写失败问题分析">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"octeon nand flash驱动","level":"1.10.3.1","depth":3,"next":{"title":"Nand flash概率写失败问题分析","level":"1.10.3.2","depth":3,"path":"notes/device_driver_nand概率写失败问题分析.md","ref":"notes/device_driver_nand概率写失败问题分析.md","articles":[]},"previous":{"title":"nand","level":"1.10.3","depth":2,"path":"notes/as_title.md","ref":"notes/as_title.md","articles":[{"title":"octeon nand flash驱动","level":"1.10.3.1","depth":3,"path":"notes/device_driver_octeon_nand.md","ref":"notes/device_driver_octeon_nand.md","articles":[]},{"title":"Nand flash概率写失败问题分析","level":"1.10.3.2","depth":3,"path":"notes/device_driver_nand概率写失败问题分析.md","ref":"notes/device_driver_nand概率写失败问题分析.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["-sharing","-lunr","-search","search-plus","-highlight","prism","prism-themes","expandable-chapters-small","github","disqus","splitter","wide-page","hide-navigation-buttons","anchor-navigation-ex","sequence"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prism-themes/themes/prism-base16-ateliersulphurpool.light.css"]},"disqus":{"useIdentifier":false,"shortName":"bai-yingjie-notes"},"sequence":{"theme":"simple"},"github":{"url":"https://github.com/Bai-Yingjie/Bai-Yingjie.github.io"},"splitter":{},"wide-page":{},"fontsettings":{"theme":"white","family":"sans","size":2},"hide-navigation-buttons":{},"anchor-navigation-ex":{"mode":"float","pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"isRewritePageTitle":true,"showLevel":true,"tocLevel1Icon":"fa fa-hand-o-right","tocLevel2Icon":"fa fa-hand-o-right","tocLevel3Icon":"fa fa-hand-o-right","showGoTop":true,"isShowTocTitleIcon":true,"printLog":false,"multipleH1":true,"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false}},"prism-themes":{},"expandable-chapters-small":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"search-plus":{}},"theme":"default","author":"Bai Yingjie","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"My Notes","language":"zh-hans","gitbook":"*"},"file":{"path":"notes/device_driver_octeon_nand.md","mtime":"2022-09-30T15:56:07.143Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-09-30T15:57:05.639Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

