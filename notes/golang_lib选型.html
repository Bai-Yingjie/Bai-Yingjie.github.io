
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>lib选型 · My Notes</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Bai Yingjie">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-coldark-cold.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-wide-page/wide.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-hide-navigation-buttons/index.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="golang_mod_proxy.html" />
    
    
    <link rel="prev" href="golang_杂记3.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    Golang
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    入门
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="golang_语法基础.html">
            
                <a href="golang_语法基础.html">
            
                    
                    语法基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="golang_json性能.html">
            
                <a href="golang_json性能.html">
            
                    
                    json性能比较
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="golang_原理.html">
            
                <a href="golang_原理.html">
            
                    
                    原理相关
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="golang_interface原理.html">
            
                <a href="golang_interface原理.html">
            
                    
                    interface原理(网摘)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="golang_内存分配.html">
            
                <a href="golang_内存分配.html">
            
                    
                    内存分配(网摘)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="golang_标准库.html">
            
                <a href="golang_标准库.html">
            
                    
                    标准库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="golang_我的反射代码.html">
            
                <a href="golang_我的反射代码.html">
            
                    
                    我的反射代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="golang_问答.html">
            
                <a href="golang_问答.html">
            
                    
                    问答
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="golang_高效go.html">
            
                <a href="golang_高效go.html">
            
                    
                    高效go
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="golang_进阶.html">
            
                <a href="golang_进阶.html">
            
                    
                    进阶
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    杂记
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.8.1" data-path="golang_杂记1.html">
            
                <a href="golang_杂记1.html">
            
                    
                    杂记1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.2" data-path="golang_杂记2.html">
            
                <a href="golang_杂记2.html">
            
                    
                    杂记2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.3" data-path="golang_杂记3.html">
            
                <a href="golang_杂记3.html">
            
                    
                    杂记3
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.8.4" data-path="golang_lib选型.html">
            
                <a href="golang_lib选型.html">
            
                    
                    lib选型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.5" data-path="golang_mod_proxy.html">
            
                <a href="golang_mod_proxy.html">
            
                    
                    go mod和go proxy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.6" data-path="golang_汇编_arm64.html">
            
                <a href="golang_汇编_arm64.html">
            
                    
                    汇编语法和arm64小知识
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.7" data-path="golang_cgo_swig.html">
            
                <a href="golang_cgo_swig.html">
            
                    
                    go调用c可以用swig
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    环境和工具链生成
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.9.1" data-path="golang_toolchain_ppc.html">
            
                <a href="golang_toolchain_ppc.html">
            
                    
                    go tools增加ppc32支持.md
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9.2" data-path="golang_toolchain_compile_gccgo.html">
            
                <a href="golang_toolchain_compile_gccgo.html">
            
                    
                    编译gccgo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9.3" data-path="golang_go_on_mips.html">
            
                <a href="golang_go_on_mips.html">
            
                    
                    go on mips boards(not so updated)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.9.3.1" data-path="golang_go_on_mips_part1.html">
            
                <a href="golang_go_on_mips_part1.html">
            
                    
                    part 1: cross compile go
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9.3.2" data-path="golang_go_on_mips_part2.html">
            
                <a href="golang_go_on_mips_part2.html">
            
                    
                    part 2: build native go compiler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9.3.3" data-path="golang_go_on_mips_part3.html">
            
                <a href="golang_go_on_mips_part3.html">
            
                    
                    part 3: gccgo experiments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9.3.4" data-path="golang_go_on_mips_part4.html">
            
                <a href="golang_go_on_mips_part4.html">
            
                    
                    part 4: json performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9.3.5" data-path="golang_gentoo_on_mips_board_and_build_go.html">
            
                <a href="golang_gentoo_on_mips_board_and_build_go.html">
            
                    
                    Gentoo on mips board and build go
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    微服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.10.1" data-path="golang_micro.html">
            
                <a href="golang_micro.html">
            
                    
                    go-micro和micro
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10.2" data-path="golang_微服务概念.html">
            
                <a href="golang_微服务概念.html">
            
                    
                    微服务概念
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    解释器和消息中间件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.11.1" data-path="golang_yeagi.html">
            
                <a href="golang_yeagi.html">
            
                    
                    yeagi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11.2" data-path="golang_govaluate.html">
            
                <a href="golang_govaluate.html">
            
                    
                    govaluate
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    Rust
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="rust_入门_brief.html">
            
                <a href="rust_入门_brief.html">
            
                    
                    入门系列
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="rust_books.html">
            
                <a href="rust_books.html">
            
                    
                    reference books
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="rust_入门1.html">
            
                <a href="rust_入门1.html">
            
                    
                    安装和基础语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="rust_入门2.html">
            
                <a href="rust_入门2.html">
            
                    
                    泛型和内存所有权
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="rust_入门3.html">
            
                <a href="rust_入门3.html">
            
                    
                    闭包 容器 迭代器 生成器 线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.5" data-path="rust_工程构建.html">
            
                <a href="rust_工程构建.html">
            
                    
                    工程构建
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="rust_vmm_brief.html">
            
                <a href="rust_vmm_brief.html">
            
                    
                    VMM(virtual machine monitor)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="rust_vmm_简介.html">
            
                <a href="rust_vmm_简介.html">
            
                    
                    rust-vmm简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="rust_firecracker_代码.html">
            
                <a href="rust_firecracker_代码.html">
            
                    
                    firecracker代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="rust_firecracker_使用.html">
            
                <a href="rust_firecracker_使用.html">
            
                    
                    firecracker使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="rust_cloud-hypervisor_代码.html">
            
                <a href="rust_cloud-hypervisor_代码.html">
            
                    
                    cloud hypervisor代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5" data-path="rust_cloud-hypervisor_使用.html">
            
                <a href="rust_cloud-hypervisor_使用.html">
            
                    
                    cloud hypervisor使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.6" data-path="rust_cloud-hypervisor_问题与解决.html">
            
                <a href="rust_cloud-hypervisor_问题与解决.html">
            
                    
                    cloud hypervisor问题与解决
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="rust_coding_brief.html">
            
                <a href="rust_coding_brief.html">
            
                    
                    代码积累
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="rust_序列化.html">
            
                <a href="rust_序列化.html">
            
                    
                    序列化原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="rust_知识点积累.html">
            
                <a href="rust_知识点积累.html">
            
                    
                    知识点更新
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="rust_adaptiveservice.html">
            
                <a href="rust_adaptiveservice.html">
            
                    
                    rust版本的adaptiveservice探索
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.4" data-path="rust_常用设施.html">
            
                <a href="rust_常用设施.html">
            
                    
                    常用设施
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.5" data-path="rust_代码小段.html">
            
                <a href="rust_代码小段.html">
            
                    
                    代码小段
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="others.html">
            
                <a href="others.html">
            
                    
                    其他
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="rust_mdbook_使用.html">
            
                <a href="rust_mdbook_使用.html">
            
                    
                    使用mdbook
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    System
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="system_原理杂记.html">
            
                <a href="system_原理杂记.html">
            
                    
                    原理杂记
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="system_alpine.html">
            
                <a href="system_alpine.html">
            
                    
                    Alpine Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="system_进程间通信.html">
            
                <a href="system_进程间通信.html">
            
                    
                    进程间通信
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="system_特殊功能fd.html">
            
                <a href="system_特殊功能fd.html">
            
                    
                    特殊功能fd
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="as_title.html">
            
                <a href="as_title.html">
            
                    
                    工程实践
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="gitlab_ci.html">
            
                <a href="gitlab_ci.html">
            
                    
                    gitlab CI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >lib选型</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#&#x7F16;&#x89E3;&#x7801;"><b>1. </b>&#x7F16;&#x89E3;&#x7801;</a></li><ul><li><span class="title-icon "></span><a href="#&#x6027;&#x80FD;&#x6C47;&#x603B;"><b>1.1. </b>&#x6027;&#x80FD;&#x6C47;&#x603B;</a></li><li><span class="title-icon "></span><a href="#&#x6392;&#x540D;"><b>1.2. </b>&#x6392;&#x540D;</a></li><li><span class="title-icon "></span><a href="#bson"><b>1.3. </b>bson</a></li><li><span class="title-icon "></span><a href="#msgpack"><b>1.4. </b>msgpack</a></li></ul><li><span class="title-icon "></span><a href="#go&#x89E3;&#x91CA;&#x5668;"><b>2. </b>go&#x89E3;&#x91CA;&#x5668;</a></li><li><span class="title-icon "></span><a href="#python&#x88C5;&#x9970;&#x5668;"><b>3. </b>python&#x88C5;&#x9970;&#x5668;</a></li><li><span class="title-icon "></span><a href="#protobuf"><b>4. </b>protobuf</a></li><li><span class="title-icon "></span><a href="#cli&#x9009;&#x578B;"><b>5. </b>cli&#x9009;&#x578B;</a></li><ul><li><span class="title-icon "></span><a href="#&#x9700;&#x6C42;"><b>5.1. </b>&#x9700;&#x6C42;</a></li><li><span class="title-icon "></span><a href="#&#x65B0;&#x589E;&#x5907;&#x9009;"><b>5.2. </b>&#x65B0;&#x589E;&#x5907;&#x9009;</a></li><li><span class="title-icon "></span><a href="#&#x5907;&#x9009;"><b>5.3. </b>&#x5907;&#x9009;</a></li><ul><li><span class="title-icon "></span><a href="#survey"><b>5.3.1. </b>Survey</a></li><li><span class="title-icon "></span><a href="#grumble"><b>5.3.2. </b>grumble</a></li><li><span class="title-icon "></span><a href="#liner"><b>5.3.3. </b>liner</a></li><li><span class="title-icon "></span><a href="#readline"><b>5.3.4. </b>readline</a></li><li><span class="title-icon "></span><a href="#ishell"><b>5.3.5. </b>ishell</a></li><li><span class="title-icon "></span><a href="#go-prompt"><b>5.3.6. </b>go-prompt</a></li><li><span class="title-icon "></span><a href="#cobra"><b>5.3.7. </b>cobra</a></li><li><span class="title-icon "></span><a href="#urfavecli"><b>5.3.8. </b>urfave/cli</a></li><li><span class="title-icon "></span><a href="#&#x5176;&#x4ED6;"><b>5.3.9. </b>&#x5176;&#x4ED6;</a></li><li><span class="title-icon "></span><a href="#go-micro&#x7684;cli"><b>5.3.10. </b>go micro&#x7684;cli</a></li></ul><li><span class="title-icon "></span><a href="#&#x65B9;&#x6848;1----go-prompt"><b>5.4. </b>&#x65B9;&#x6848;1 -- go-prompt</a></li><li><span class="title-icon "></span><a href="#&#x65B9;&#x6848;2----promptui--cobra"><b>5.5. </b>&#x65B9;&#x6848;2 -- promptui + cobra</a></li><li><span class="title-icon "></span><a href="#&#x65B9;&#x6848;3----readline--cobra"><b>5.6. </b>&#x65B9;&#x6848;3 -- readline + cobra</a></li><li><span class="title-icon "></span><a href="#&#x65B9;&#x6848;4----&#x81EA;&#x5DF1;&#x5199;repl&#x5FAA;&#x73AF;--cobra"><b>5.7. </b>&#x65B9;&#x6848;4 -- &#x81EA;&#x5DF1;&#x5199;REPL&#x5FAA;&#x73AF; + cobra</a></li></ul></ul></div><a href="#&#x7F16;&#x89E3;&#x7801;" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><ul>
<li><a href="#&#x7F16;&#x89E3;&#x7801;">&#x7F16;&#x89E3;&#x7801;</a><ul>
<li><a href="#&#x6027;&#x80FD;&#x6C47;&#x603B;">&#x6027;&#x80FD;&#x6C47;&#x603B;</a></li>
<li><a href="#&#x6392;&#x540D;">&#x6392;&#x540D;</a></li>
<li><a href="#bson">bson</a></li>
<li><a href="#msgpack">msgpack</a></li>
</ul>
</li>
<li><a href="#go&#x89E3;&#x91CA;&#x5668;">go&#x89E3;&#x91CA;&#x5668;</a></li>
<li><a href="#python&#x88C5;&#x9970;&#x5668;">python&#x88C5;&#x9970;&#x5668;</a></li>
<li><a href="#protobuf">protobuf</a></li>
<li><a href="#cli&#x9009;&#x578B;">cli&#x9009;&#x578B;</a><ul>
<li><a href="#&#x9700;&#x6C42;">&#x9700;&#x6C42;</a></li>
<li><a href="#&#x65B0;&#x589E;&#x5907;&#x9009;">&#x65B0;&#x589E;&#x5907;&#x9009;</a></li>
<li><a href="#&#x5907;&#x9009;">&#x5907;&#x9009;</a><ul>
<li><a href="#survey">Survey</a></li>
<li><a href="#grumble">grumble</a></li>
<li><a href="#liner">liner</a></li>
<li><a href="#readline">readline</a><ul>
<li><a href="#&#x6211;&#x7684;&#x4EE3;&#x7801;">&#x6211;&#x7684;&#x4EE3;&#x7801;:</a></li>
</ul>
</li>
<li><a href="#ishell">ishell</a></li>
<li><a href="#go-prompt">go-prompt</a></li>
<li><a href="#cobra">cobra</a><ul>
<li><a href="#&#x6559;&#x7A0B;">&#x6559;&#x7A0B;</a></li>
</ul>
</li>
<li><a href="#urfavecli">urfave/cli</a><ul>
<li><a href="#&#x7B80;&#x5355;&#x4F8B;&#x5B50;">&#x7B80;&#x5355;&#x4F8B;&#x5B50;</a></li>
<li><a href="#&#x5B50;&#x547D;&#x4EE4;">&#x5B50;&#x547D;&#x4EE4;</a></li>
</ul>
</li>
<li><a href="#&#x5176;&#x4ED6;">&#x5176;&#x4ED6;</a></li>
<li><a href="#go-micro&#x7684;cli">go micro&#x7684;cli</a></li>
</ul>
</li>
<li><a href="#&#x65B9;&#x6848;1----go-prompt">&#x65B9;&#x6848;1 -- go-prompt</a></li>
<li><a href="#&#x65B9;&#x6848;2----promptui--cobra">&#x65B9;&#x6848;2 -- promptui + cobra</a></li>
<li><a href="#&#x65B9;&#x6848;3----readline--cobra">&#x65B9;&#x6848;3 -- readline + cobra</a></li>
<li><a href="#&#x65B9;&#x6848;4----&#x81EA;&#x5DF1;&#x5199;repl&#x5FAA;&#x73AF;--cobra">&#x65B9;&#x6848;4 -- &#x81EA;&#x5DF1;&#x5199;REPL&#x5FAA;&#x73AF; + cobra</a></li>
</ul>
</li>
</ul>
<h1 id="&#x7F16;&#x89E3;&#x7801;"><a name="&#x7F16;&#x89E3;&#x7801;" class="anchor-navigation-ex-anchor" href="#&#x7F16;&#x89E3;&#x7801;"><i class="fa fa-link" aria-hidden="true"></i></a>1. &#x7F16;&#x89E3;&#x7801;</h1>
<h2 id="&#x6027;&#x80FD;&#x6C47;&#x603B;"><a name="&#x6027;&#x80FD;&#x6C47;&#x603B;" class="anchor-navigation-ex-anchor" href="#&#x6027;&#x80FD;&#x6C47;&#x603B;"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. &#x6027;&#x80FD;&#x6C47;&#x603B;</h2>
<p><a href="https://golangrepo.com/repo/alecthomas-go_serialization_benchmarks-go-benchmarks" target="_blank">https://golangrepo.com/repo/alecthomas-go_serialization_benchmarks-go-benchmarks</a></p>
<h2 id="&#x6392;&#x540D;"><a name="&#x6392;&#x540D;" class="anchor-navigation-ex-anchor" href="#&#x6392;&#x540D;"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. &#x6392;&#x540D;</h2>
<p><a href="https://kokizzu.blogspot.com/2020/12/golang-serialization-benchmark-2020.html" target="_blank">https://kokizzu.blogspot.com/2020/12/golang-serialization-benchmark-2020.html</a></p>
<table>
<thead>
<tr>
<th>Format</th>
<th>type</th>
<th>ns/op</th>
<th>bytes/op</th>
<th>allocs/op</th>
<th>ns/alloc</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mum</td>
<td>ser</td>
<td>97</td>
<td>48</td>
<td>0</td>
<td>0.00</td>
</tr>
<tr>
<td>GencodeUnsafe</td>
<td>ser</td>
<td>98</td>
<td>46</td>
<td>48</td>
<td>2.05</td>
</tr>
<tr>
<td>Gotiny</td>
<td>ser</td>
<td>130</td>
<td>48</td>
<td>0</td>
<td>0.00</td>
</tr>
<tr>
<td>GotinyNoTime</td>
<td>ser</td>
<td>136</td>
<td>48</td>
<td>0</td>
<td>0.00</td>
</tr>
<tr>
<td>Gogoprotobuf</td>
<td>ser</td>
<td>147</td>
<td>53</td>
<td>64</td>
<td>2.30</td>
</tr>
<tr>
<td>Msgp</td>
<td>ser</td>
<td>174</td>
<td>97</td>
<td>128</td>
<td>1.36</td>
</tr>
<tr>
<td>Gencode</td>
<td>ser</td>
<td>186</td>
<td>53</td>
<td>80</td>
<td>2.33</td>
</tr>
<tr>
<td>FlatBuffers</td>
<td>ser</td>
<td>298</td>
<td>95</td>
<td>0</td>
<td>0.00</td>
</tr>
<tr>
<td>Goprotobuf</td>
<td>ser</td>
<td>317</td>
<td>53</td>
<td>64</td>
<td>4.95</td>
</tr>
<tr>
<td>Protobuf</td>
<td>ser</td>
<td>801</td>
<td>52</td>
<td>152</td>
<td>5.27</td>
</tr>
<tr>
<td>ShamatonMapMsgpack</td>
<td>ser</td>
<td>819</td>
<td>92</td>
<td>208</td>
<td>3.94</td>
</tr>
<tr>
<td>Gob</td>
<td>ser</td>
<td>834</td>
<td>63</td>
<td>48</td>
<td>17.38</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Format</th>
<th>type</th>
<th>ns/op</th>
<th>bytes/op</th>
<th>allocs/op</th>
<th>ns/alloc</th>
</tr>
</thead>
<tbody>
<tr>
<td>Gencode</td>
<td>des</td>
<td>222</td>
<td>53</td>
<td>112</td>
<td>1.98</td>
</tr>
<tr>
<td>Gogoprotobuf</td>
<td>des</td>
<td>230</td>
<td>53</td>
<td>96</td>
<td>2.40</td>
</tr>
<tr>
<td>GotinyNoTime</td>
<td>des</td>
<td>241</td>
<td>48</td>
<td>96</td>
<td>2.51</td>
</tr>
<tr>
<td>FlatBuffers</td>
<td>des</td>
<td>265</td>
<td>95</td>
<td>112</td>
<td>2.37</td>
</tr>
<tr>
<td>Gotiny</td>
<td>des</td>
<td>267</td>
<td>48</td>
<td>112</td>
<td>2.38</td>
</tr>
<tr>
<td>Msgp</td>
<td>des</td>
<td>314</td>
<td>97</td>
<td>112</td>
<td>2.80</td>
</tr>
<tr>
<td>CapNProto</td>
<td>des</td>
<td>443</td>
<td>96</td>
<td>200</td>
<td>2.21</td>
</tr>
<tr>
<td>Goprotobuf</td>
<td>des</td>
<td>481</td>
<td>53</td>
<td>168</td>
<td>2.86</td>
</tr>
<tr>
<td>Protobuf</td>
<td>des</td>
<td>790</td>
<td>52</td>
<td>192</td>
<td>4.11</td>
</tr>
<tr>
<td>Ikea</td>
<td>des</td>
<td>871</td>
<td>55</td>
<td>160</td>
<td>5.44</td>
</tr>
<tr>
<td>Gob</td>
<td>des</td>
<td>900</td>
<td>63</td>
<td>112</td>
<td>8.04</td>
</tr>
<tr>
<td>GoAvro2Binary</td>
<td>des</td>
<td>1092</td>
<td>47</td>
<td>560</td>
<td>1.95</td>
</tr>
<tr>
<td>Hprose</td>
<td>des</td>
<td>1195</td>
<td>85</td>
<td>319</td>
<td>3.75</td>
</tr>
<tr>
<td>UgorjiCodecMsgpack</td>
<td>des</td>
<td>1398</td>
<td>91</td>
<td>496</td>
<td>2.82</td>
</tr>
<tr>
<td>Binary</td>
<td>des</td>
<td>1511</td>
<td>61</td>
<td>320</td>
<td>4.72</td>
</tr>
<tr>
<td>UgorjiCodecBinc</td>
<td>des</td>
<td>1587</td>
<td>95</td>
<td>656</td>
<td>2.42</td>
</tr>
<tr>
<td>Bson</td>
<td>des</td>
<td>1694</td>
<td>110</td>
<td>232</td>
<td>7.30</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Format</th>
<th>ns/op</th>
<th>bytes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bebop</td>
<td>228</td>
<td>110</td>
</tr>
<tr>
<td>GencodeUnsafe</td>
<td>259</td>
<td>92</td>
</tr>
<tr>
<td>XDR2</td>
<td>290</td>
<td>120</td>
</tr>
<tr>
<td>Mum</td>
<td>313</td>
<td>96</td>
</tr>
<tr>
<td>Colfer</td>
<td>321</td>
<td>101</td>
</tr>
<tr>
<td>GotinyNoTime</td>
<td>377</td>
<td>96</td>
</tr>
<tr>
<td>Gogoprotobuf</td>
<td>377</td>
<td>106</td>
</tr>
<tr>
<td>Gotiny</td>
<td>397</td>
<td>96</td>
</tr>
<tr>
<td>Gencode</td>
<td>408</td>
<td>106</td>
</tr>
<tr>
<td>Msgp</td>
<td>488</td>
<td>194</td>
</tr>
<tr>
<td>FlatBuffers</td>
<td>563</td>
<td>190</td>
</tr>
<tr>
<td>Goprotobuf</td>
<td>798</td>
<td>106</td>
</tr>
<tr>
<td>CapNProto</td>
<td>829</td>
<td>192</td>
</tr>
<tr>
<td>Hprose2</td>
<td>1,213</td>
<td>170</td>
</tr>
<tr>
<td>ShamatonArrayMsgpack</td>
<td>1,241</td>
<td>100</td>
</tr>
<tr>
<td>CapNProto2</td>
<td>1,364</td>
<td>192</td>
</tr>
<tr>
<td>Ikea</td>
<td>1,541</td>
<td>110</td>
</tr>
<tr>
<td>ShamatonMapMsgpack</td>
<td>1,557</td>
<td>184</td>
</tr>
<tr>
<td>Protobuf</td>
<td>1,591</td>
<td>104</td>
</tr>
<tr>
<td>Gob</td>
<td>1,734</td>
<td>126</td>
</tr>
<tr>
<td>GoAvro2Binary</td>
<td>2,042</td>
<td>94</td>
</tr>
<tr>
<td>Hprose</td>
<td>2,110</td>
<td>170</td>
</tr>
<tr>
<td>UgorjiCodecMsgpack</td>
<td>2,820</td>
<td>182</td>
</tr>
<tr>
<td>VmihailencoMsgpack</td>
<td>2,838</td>
<td>200</td>
</tr>
<tr>
<td>Bson</td>
<td>2,865</td>
<td>220</td>
</tr>
<tr>
<td>Binary</td>
<td>2,875</td>
<td>122</td>
</tr>
<tr>
<td>UgorjiCodecBinc</td>
<td>3,055</td>
<td>190</td>
</tr>
<tr>
<td>EasyJson</td>
<td>3,513</td>
<td>299</td>
</tr>
<tr>
<td>XDR</td>
<td>4,091</td>
<td>182</td>
</tr>
<tr>
<td>JsonIter</td>
<td>4,266</td>
<td>278</td>
</tr>
<tr>
<td>GoAvro2Text</td>
<td>5,801</td>
<td>268</td>
</tr>
<tr>
<td>Sereal</td>
<td>6,313</td>
<td>264</td>
</tr>
<tr>
<td>Json</td>
<td>6,786</td>
<td>299</td>
</tr>
<tr>
<td>GoAvro</td>
<td>9,790</td>
<td>94</td>
</tr>
<tr>
<td>SSZNoTimeNoStringNoFloatA</td>
<td>12,616</td>
<td>110</td>
</tr>
</tbody>
</table>
<h2 id="bson"><a name="bson" class="anchor-navigation-ex-anchor" href="#bson"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. bson</h2>
<p><a href="https://github.com/mongodb/mongo-go-driver/tree/master/bson" target="_blank">https://github.com/mongodb/mongo-go-driver/tree/master/bson</a>
&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x6863;: <a href="https://pkg.go.dev/go.mongodb.org/mongo-driver/bson" target="_blank">https://pkg.go.dev/go.mongodb.org/mongo-driver/bson</a></p>
<p>&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x5B9E;&#x73B0;: <a href="https://pkg.go.dev/labix.org/v2/mgo/bson" target="_blank">https://pkg.go.dev/labix.org/v2/mgo/bson</a>
&#x5B9E;&#x73B0;&#x6BD4;&#x8F83;&#x7B80;&#x5355;, 2014&#x5E74;&#x66F4;&#x65B0;&#x7684;.</p>
<h2 id="msgpack"><a name="msgpack" class="anchor-navigation-ex-anchor" href="#msgpack"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. msgpack</h2>
<ul>
<li><a href="https://github.com/vmihailenco/msgpack" target="_blank">github.com/vmihailenco/msgpack/v4</a></li>
</ul>
<h1 id="go&#x89E3;&#x91CA;&#x5668;"><a name="go&#x89E3;&#x91CA;&#x5668;" class="anchor-navigation-ex-anchor" href="#go&#x89E3;&#x91CA;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>2. go&#x89E3;&#x91CA;&#x5668;</h1>
<p>&#x5E93;&#x5730;&#x5740;: <a href="https://github.com/traefik/yaegi" target="_blank">https://github.com/traefik/yaegi</a>
&#x80CC;&#x666F;: <a href="https://traefik.io/blog/announcing-yaegi-263a1e2d070a/" target="_blank">https://traefik.io/blog/announcing-yaegi-263a1e2d070a/</a></p>
<p>&#x770B;&#x8D77;&#x6765;&#x5F88;&#x597D;</p>
<ul>
<li>Complete support of <a href="https://golang.org/ref/spec" target="_blank">Go specification</a></li>
<li>Written in pure Go, using only the standard library</li>
<li>Simple interpreter API: <code>New()</code>, <code>Eval()</code>, <code>Use()</code></li>
<li>Works everywhere Go works</li>
<li>All Go &amp; runtime resources accessible from script (with control)</li>
<li>Security: <code>unsafe</code> and <code>syscall</code> packages neither used nor exported by default</li>
<li>Support Go 1.13 and Go 1.14 (the latest 2 major releases)</li>
</ul>
<h1 id="python&#x88C5;&#x9970;&#x5668;"><a name="python&#x88C5;&#x9970;&#x5668;" class="anchor-navigation-ex-anchor" href="#python&#x88C5;&#x9970;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>3. python&#x88C5;&#x9970;&#x5668;</h1>
<p>&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x51FD;&#x6570;&#x95ED;&#x5305;: &#x628A;&#x8FD4;&#x56DE;&#x7684;&#x51FD;&#x6570;&#x8D4B;&#x503C;&#x7ED9;&#x539F;&#x59CB;&#x51FD;&#x6570;&#x540D;</p>
<pre class="language-"><code class="lang-python"><span class="token decorator annotation punctuation">@a_new_decorator</span>
<span class="token keyword">def</span> <span class="token function">a_function_requiring_decoration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;Hey you! Decorate me!&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;I am the function which needs some decoration to &quot;</span>
          <span class="token string">&quot;remove my foul smell&quot;</span><span class="token punctuation">)</span>

a_function_requiring_decoration<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">#outputs: I am doing some boring work before executing a_func()</span>
<span class="token comment">#         I am the function which needs some decoration to remove my foul smell</span>
<span class="token comment">#         I am doing some boring work after executing a_func()</span>

<span class="token comment">#the @a_new_decorator is just a short way of saying:</span>
a_function_requiring_decoration <span class="token operator">=</span> a_new_decorator<span class="token punctuation">(</span>a_function_requiring_decoration<span class="token punctuation">)</span>
</code></pre>
<p><a href="https://www.runoob.com/w3cnote/python-func-decorators.html" target="_blank">&#x53C2;&#x8003;&#x8FD9;&#x91CC;</a> &#x5176;&#x4E2D;&#x7B2C;&#x4E00;&#x7BC7;&#x7B14;&#x8BB0;&#x5F88;&#x8D5E;</p>
<h1 id="protobuf"><a name="protobuf" class="anchor-navigation-ex-anchor" href="#protobuf"><i class="fa fa-link" aria-hidden="true"></i></a>4. protobuf</h1>
<p>protobuf&#x9879;&#x76EE;&#x7684;go&#x7248;&#x672C;&#x73B0;&#x5728;&#x8F6C;&#x5230;:
<a href="https://github.com/protocolbuffers/protobuf-go" target="_blank">https://github.com/protocolbuffers/protobuf-go</a>
&#x4E4B;&#x524D;&#x662F;golang team&#x7EF4;&#x62A4;&#x7684;
<a href="https://github.com/golang/protobuf" target="_blank">https://github.com/golang/protobuf</a></p>
<h1 id="cli&#x9009;&#x578B;"><a name="cli&#x9009;&#x578B;" class="anchor-navigation-ex-anchor" href="#cli&#x9009;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a>5. cli&#x9009;&#x578B;</h1>
<h2 id="&#x9700;&#x6C42;"><a name="&#x9700;&#x6C42;" class="anchor-navigation-ex-anchor" href="#&#x9700;&#x6C42;"><i class="fa fa-link" aria-hidden="true"></i></a>5.1. &#x9700;&#x6C42;</h2>
<ul>
<li>&#x81EA;&#x52A8;&#x5B8C;&#x6210;</li>
<li>&#x547D;&#x4EE4;&#x5C42;&#x7EA7;</li>
<li>&#x4EA4;&#x4E92;&#x5F0F;(REPL): The name REPL stands for Read-Eval-Print-Loop - an interactive, typically console-based, programming environment.</li>
<li>&#x547D;&#x4EE4;&#x5F0F;</li>
</ul>
<h2 id="&#x65B0;&#x589E;&#x5907;&#x9009;"><a name="&#x65B0;&#x589E;&#x5907;&#x9009;" class="anchor-navigation-ex-anchor" href="#&#x65B0;&#x589E;&#x5907;&#x9009;"><i class="fa fa-link" aria-hidden="true"></i></a>5.2. &#x65B0;&#x589E;&#x5907;&#x9009;</h2>
<p><a href="https://pkg.go.dev/golang.org/x/term" target="_blank">https://pkg.go.dev/golang.org/x/term</a>
&#x770B;&#x8D77;&#x6765;&#x6709;&#x70B9;&#x5B98;&#x65B9;</p>
<h2 id="&#x5907;&#x9009;"><a name="&#x5907;&#x9009;" class="anchor-navigation-ex-anchor" href="#&#x5907;&#x9009;"><i class="fa fa-link" aria-hidden="true"></i></a>5.3. &#x5907;&#x9009;</h2>
<p>&#x4ECE;readline grumble liner&#x91CC;&#x9762;&#x9009;&#x4E00;&#x4E2A;.</p>
<p>&#x5BF9;abs&#x6765;&#x8BF4;, &#x4E0D;&#x9700;&#x8981;grumble&#x8FD9;&#x6837;&#x7684;&quot;&#x96C6;&#x6210;&quot;cli. readline/liner&#x5E94;&#x8BE5;&#x591F;&#x4E86;.
&#x4F46;grumble&#x7684;&#x601D;&#x8DEF;&#x53EF;&#x4EE5;&#x501F;&#x9274;.</p>
<p>&#x6700;&#x540E;&#x9009;&#x62E9;readline</p>
<h3 id="survey"><a name="survey" class="anchor-navigation-ex-anchor" href="#survey"><i class="fa fa-link" aria-hidden="true"></i></a>5.3.1. Survey</h3>
<p><a href="https://github.com/AlecAivazis/survey" target="_blank">https://github.com/AlecAivazis/survey</a>
&#x611F;&#x89C9;&#x4E0D;&#x662F;&#x666E;&#x901A;&#x7684;shell&#x601D;&#x8DEF;, &#x5E94;&#x8BE5;&#x8BF4;&#x52A0;&#x4E86;&#x6BD4;&#x5982;check box&#x7B49;&#x529F;&#x80FD;</p>
<h3 id="grumble"><a name="grumble" class="anchor-navigation-ex-anchor" href="#grumble"><i class="fa fa-link" aria-hidden="true"></i></a>5.3.2. grumble</h3>
<p><a href="https://github.com/desertbit/grumble" target="_blank">https://github.com/desertbit/grumble</a>
&#x672C;&#x8EAB;&#x4EE3;&#x7801;&#x91CF;&#x5F88;&#x5C11;, &#x4F46;&#x96C6;&#x6210;&#x4E86;readline&#x7B49;&#x5E93;; &#x4F46;&#x4F7F;&#x7528;&#x4E86;&#x8F83;&#x65B0;&#x7EF4;&#x62A4;&#x7684;&#x7248;&#x672C;<a href="https://github.com/desertbit/readline" target="_blank">https://github.com/desertbit/readline</a>
&#x601D;&#x8DEF;&#x662F;cobra&#x5F0F;&#x7684;&#x5B50;&#x547D;&#x4EE4;, &#x4F46;&#x9ED8;&#x8BA4;&#x52A0;&#x4E86;&#x4EA4;&#x4E92;&#x5F0F;&#x547D;&#x4EE4;&#x884C;
&#x66F4;&#x65B0;&#x4E0D;&#x591A;, &#x4F46;&#x6BD4;&#x8F83;&#x7A33;&#x5B9A;? 
&#x4F5C;&#x8005;&#x81EA;&#x79F0;&#x53D7;ishell&#x542F;&#x53D1;</p>
<blockquote>
<p>There are a handful of powerful go CLI libraries available (spf13/cobra, urfave/cli). However sometimes an integrated shell interface is a great and useful extension for the actual application. This library offers a simple API to create powerful CLI applications and automatically starts an integrated interactive shell, if the application is started without any command arguments.</p>
</blockquote>
<h3 id="liner"><a name="liner" class="anchor-navigation-ex-anchor" href="#liner"><i class="fa fa-link" aria-hidden="true"></i></a>5.3.3. liner</h3>
<p><a href="https://github.com/peterh/liner" target="_blank">https://github.com/peterh/liner</a>
&#x770B;&#x8D77;&#x6765;&#x4E0D;&#x9519;. &#x7C7B;VT100
&#x652F;&#x6301;go.mod
&#x652F;&#x6301;&#x5E38;&#x89C4;&#x5FEB;&#x6377;&#x952E;
&#x652F;&#x6301;&#x5386;&#x53F2;&#x547D;&#x4EE4;</p>
<h3 id="readline"><a name="readline" class="anchor-navigation-ex-anchor" href="#readline"><i class="fa fa-link" aria-hidden="true"></i></a>5.3.4. readline</h3>
<p><a href="https://github.com/chzyer/readline" target="_blank">https://github.com/chzyer/readline</a>
&#x548C;c&#x7248;&#x672C;&#x7684;readline&#x5957;&#x8DEF;&#x4E00;&#x6837;.</p>
<p>&#x6709;&#x4E2A;&#x5E93;&#x5305;&#x88C5;&#x4E86;readline, &#x6210;&#x4E3A;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x8FED;&#x4EE3;&#x5668;, &#x770B;&#x8D77;&#x6765;&#x4E0D;&#x9519;
<a href="https://github.com/knieriem/readlineutil" target="_blank">https://github.com/knieriem/readlineutil</a></p>
<pre class="language-"><code class="lang-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>t <span class="token operator">*</span>Term<span class="token punctuation">)</span> <span class="token function">Scan</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
    line<span class="token punctuation">,</span> err <span class="token operator">:=</span> t<span class="token punctuation">.</span>inst<span class="token punctuation">.</span><span class="token function">Readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        t<span class="token punctuation">.</span>err <span class="token operator">=</span> err
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
    t<span class="token punctuation">.</span>line <span class="token operator">=</span> line
    <span class="token keyword">if</span> t<span class="token punctuation">.</span>prevPrompt <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> line <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
        t<span class="token punctuation">.</span>inst<span class="token punctuation">.</span><span class="token function">SaveHistory</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x6211;&#x7684;&#x4EE3;&#x7801;"><a name="&#x6211;&#x7684;&#x4EE3;&#x7801;" class="anchor-navigation-ex-anchor" href="#&#x6211;&#x7684;&#x4EE3;&#x7801;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6211;&#x7684;&#x4EE3;&#x7801;:</h4>
<pre class="language-"><code class="lang-go"><span class="token keyword">func</span> <span class="token function">repl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    completer <span class="token operator">:=</span> readline<span class="token punctuation">.</span><span class="token function">NewPrefixCompleter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    liner<span class="token punctuation">,</span> err <span class="token operator">:=</span> readline<span class="token punctuation">.</span><span class="token function">NewEx</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>readline<span class="token punctuation">.</span>Config<span class="token punctuation">{</span>
        Prompt<span class="token punctuation">:</span>       <span class="token string">&quot;&gt; &quot;</span><span class="token punctuation">,</span>
        AutoComplete<span class="token punctuation">:</span> completer<span class="token punctuation">,</span>
        EOFPrompt<span class="token punctuation">:</span>    <span class="token string">&quot;exit&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> liner<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        l<span class="token punctuation">,</span> err <span class="token operator">:=</span> liner<span class="token punctuation">.</span><span class="token function">Readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> errors<span class="token punctuation">.</span><span class="token function">Is</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> io<span class="token punctuation">.</span>EOF<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> errors<span class="token punctuation">.</span><span class="token function">Is</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> readline<span class="token punctuation">.</span>ErrInterrupt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="ishell"><a name="ishell" class="anchor-navigation-ex-anchor" href="#ishell"><i class="fa fa-link" aria-hidden="true"></i></a>5.3.5. ishell</h3>
<p><a href="https://github.com/abiosoft/ishell" target="_blank">https://github.com/abiosoft/ishell</a>
&#x770B;&#x7740;&#x6709;&#x70B9;&#x7B80;&#x964B;...</p>
<pre class="language-"><code class="lang-sh">Sample Interactive Shell
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin class-name">help</span>

Commands:
  <span class="token function">clear</span>      <span class="token function">clear</span> the <span class="token function">screen</span>
  greet      greet user
  <span class="token builtin class-name">exit</span>       <span class="token builtin class-name">exit</span> the program
  <span class="token builtin class-name">help</span>       display <span class="token builtin class-name">help</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> greet Someone Somewhere
Hello Someone Somewhere
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin class-name">exit</span>
$
</code></pre>
<h3 id="go-prompt"><a name="go-prompt" class="anchor-navigation-ex-anchor" href="#go-prompt"><i class="fa fa-link" aria-hidden="true"></i></a>5.3.6. go-prompt</h3>
<p><a href="https://github.com/c-bata/go-prompt" target="_blank">https://github.com/c-bata/go-prompt</a>
&#x8FD8;&#x5728;&#x66F4;&#x65B0;, &#x4E3B;&#x6253;&#x4EA4;&#x4E92;&#x5F0F;, &#x547D;&#x4EE4;&#x8054;&#x60F3;, &#x5FEB;&#x6377;&#x952E;, &#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x4E0A;&#x4E0B;&#x7FFB;. &#x597D;&#x50CF;&#x76EE;&#x6807;&#x662F;&#x63D0;&#x4F9B;kubectl&#x517C;&#x5BB9;&#x7684;kube-prompt
<img src="https://github.com/c-bata/assets/raw/master/go-prompt/kube-prompt.gif" alt="demo">
<img src="https://github.com/c-bata/assets/raw/master/go-prompt/prompt-options.png" alt="options"></p>
<p><a href="https://go.libhunt.com/go-prompt-alternatives" target="_blank">go.libhunt&#x4E0A;&#x5BF9;&#x6BD4;</a></p>
<ul>
<li><a href="https://github.com/gizak/termui" target="_blank">termui</a>
&#x4E3B;&#x6253;&#x6587;&#x672C;&#x7684;&#x56FE;&#x5F62;&#x663E;&#x793A;
<img src="https://github.com/gizak/termui/raw/master/_assets/demo.gif" alt="&#x793A;&#x4F8B;"></li>
<li><a href="https://github.com/jroimartin/gocui" target="_blank">gocui</a>
&#x4E3B;&#x6253;&#x6587;&#x672C;&#x5E03;&#x5C40;, &#x6709;&#x70B9;&#x50CF;&#x8C03;&#x8BD5;&#x5668;&#x754C;&#x9762;
<img src="https://cloud.githubusercontent.com/assets/1223476/19418932/63645052-93ce-11e6-867c-da5e97e37237.png" alt="r2cui"></li>
<li><a href="https://github.com/rivo/tview" target="_blank">tview</a>
&#x4E5F;&#x662F;&#x4E3B;&#x6253;&#x754C;&#x9762;&#x7684;</li>
<li><a href="https://github.com/gdamore/tcell" target="_blank">tcell</a>
&#x6587;&#x672C;&#x63A7;&#x5236;&#x53F0;&#x5E93;, &#x4F3C;&#x4E4E;&#x5F88;&#x6709;&#x7528;.</li>
</ul>
<h3 id="cobra"><a name="cobra" class="anchor-navigation-ex-anchor" href="#cobra"><i class="fa fa-link" aria-hidden="true"></i></a>5.3.7. cobra</h3>
<p><a href="https://github.com/spf13/cobra" target="_blank">https://github.com/spf13/cobra</a></p>
<ul>
<li>&#x4F7F;&#x7528;&#x5E7F;&#x6CDB; 
Cobra is used in many Go projects such as <a href="http://kubernetes.io/" target="_blank">Kubernetes</a>, <a href="https://gohugo.io/" target="_blank">Hugo</a>, and <a href="https://github.com/cli/cli" target="_blank">Github CLI</a> to name a few. <a href="https://github.com/spf13/cobra/blob/master/projects_using_cobra.md" target="_blank">This list</a> contains a more extensive list of projects using Cobra.</li>
<li><p>cobra&#x662F;&#x4E2A;&#x6846;&#x67B6;, &#x5178;&#x578B;&#x5E03;&#x5C40;</p>
<pre class="language-"><code>&#x25BE; appName/
  &#x25BE; cmd/
      add.go
      your.go
      commands.go
      here.go
    main.go
</code></pre></li>
<li><p>main.go</p>
</li>
</ul>
<pre class="language-"><code class="lang-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;{pathToYourApp}/cmd&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  cmd<span class="token punctuation">.</span><span class="token function">Execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x6559;&#x7A0B;"><a name="&#x6559;&#x7A0B;" class="anchor-navigation-ex-anchor" href="#&#x6559;&#x7A0B;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6559;&#x7A0B;</h4>
<p><a href="https://www.educative.io/edpresso/how-to-use-cobra-in-golang" target="_blank">&#x8FD9;&#x4E2A;&#x6559;&#x7A0B;</a>&#x5199;&#x7684;&#x4E0D;&#x9519;
&#x7528;Cobra&#x7684;&#x51E0;&#x4E2A;&#x597D;&#x5904;:</p>
<ul>
<li>Easy to create subcommand-based CLIs and use nested subcommands.</li>
<li>Automatic help generation for commands and flags.</li>
<li>Increased productivity because of commands such as <code>cobra init appname</code> &amp; <code>cobra add cmdname</code>.</li>
<li>Helpful, intelligent suggestions (<code>app srver</code>&#x2026; did you mean <code>app server</code>?).</li>
</ul>
<p><a href="https://medium.com/a-journey-with-go/go-thoughts-about-cobra-f4e8c5f18091" target="_blank">&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;</a>&#x5199;&#x7684;&#x66F4;&#x597D;
Cobra&#x6BD4;&#x6807;&#x51C6;&#x5E93;flag&#x7684;&#x529F;&#x80FD;&#x66F4;&#x4E30;&#x5BCC;</p>
<ul>
<li>&#x652F;&#x6301;-abc -e --example&#x7B49;&#x4F20;&#x7EDF;&#x7684;&#x53C2;&#x6570;&#x8F93;&#x5165;</li>
<li>&#x652F;&#x6301;&#x5B50;&#x547D;&#x4EE4;. &#x8FD9;&#x4E2A;&#x662F;&#x4E3B;&#x8981;&#x539F;&#x56E0;. golang&#x6807;&#x51C6;&#x5E93;&#x91CC;&#x672C;&#x6765;&#x6709;, &#x4F46;&#x5728;internal&#x4E0B;&#x9762;, &#x5916;&#x90E8;&#x7528;&#x4E0D;&#x4E86;</li>
</ul>
<p>&#x5B50;&#x547D;&#x4EE4;&#x4E3E;&#x4F8B;:</p>
<pre class="language-"><code class="lang-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;github.com/spf13/cobra&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cmd <span class="token operator">:=</span> <span class="token function">newCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cmd<span class="token punctuation">.</span><span class="token function">AddCommand</span><span class="token punctuation">(</span><span class="token function">newNestedCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    rootCmd <span class="token operator">:=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span><span class="token punctuation">}</span>
    rootCmd<span class="token punctuation">.</span><span class="token function">AddCommand</span><span class="token punctuation">(</span>cmd<span class="token punctuation">)</span>

    <span class="token keyword">if</span> err <span class="token operator">:=</span> rootCmd<span class="token punctuation">.</span><span class="token function">Execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">newCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command <span class="token punctuation">{</span>
    cmd <span class="token operator">:=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
        Run<span class="token punctuation">:</span>  <span class="token keyword">func</span> <span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">`Foo`</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        Use<span class="token punctuation">:</span>   <span class="token string">`foo`</span><span class="token punctuation">,</span>
        Short<span class="token punctuation">:</span> <span class="token string">&quot;Command foo&quot;</span><span class="token punctuation">,</span>
        Long<span class="token punctuation">:</span>  <span class="token string">&quot;This is a command&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> cmd
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">newNestedCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command <span class="token punctuation">{</span>
    cmd <span class="token operator">:=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
        Run<span class="token punctuation">:</span>  <span class="token keyword">func</span> <span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">`Bar`</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        Use<span class="token punctuation">:</span>   <span class="token string">`bar`</span><span class="token punctuation">,</span>
        Short<span class="token punctuation">:</span> <span class="token string">&quot;Command bar&quot;</span><span class="token punctuation">,</span>
        Long<span class="token punctuation">:</span>  <span class="token string">&quot;This is a nested command&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> cmd
<span class="token punctuation">}</span>
</code></pre>
<h3 id="urfavecli"><a name="urfavecli" class="anchor-navigation-ex-anchor" href="#urfavecli"><i class="fa fa-link" aria-hidden="true"></i></a>5.3.8. urfave/cli</h3>
<p><a href="https://github.com/urfave/cli" target="_blank">https://github.com/urfave/cli</a>
&#x4E3B;&#x6253;&#x8F7B;&#x91CF;&#x5316;.&#x5728;&#x79EF;&#x6781;&#x7EF4;&#x62A4;</p>
<h4 id="&#x7B80;&#x5355;&#x4F8B;&#x5B50;"><a name="&#x7B80;&#x5355;&#x4F8B;&#x5B50;" class="anchor-navigation-ex-anchor" href="#&#x7B80;&#x5355;&#x4F8B;&#x5B50;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7B80;&#x5355;&#x4F8B;&#x5B50;</h4>
<pre class="language-"><code class="lang-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;fmt&quot;</span>
  <span class="token string">&quot;log&quot;</span>
  <span class="token string">&quot;os&quot;</span>

  <span class="token string">&quot;github.com/urfave/cli/v2&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  app <span class="token operator">:=</span> <span class="token operator">&amp;</span>cli<span class="token punctuation">.</span>App<span class="token punctuation">{</span>
    Name<span class="token punctuation">:</span> <span class="token string">&quot;greet&quot;</span><span class="token punctuation">,</span>
    Usage<span class="token punctuation">:</span> <span class="token string">&quot;fight the loneliness!&quot;</span><span class="token punctuation">,</span>
    Action<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>cli<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello friend!&quot;</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  err <span class="token operator">:=</span> app<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Args<span class="token punctuation">)</span>
  <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="&#x5B50;&#x547D;&#x4EE4;"><a name="&#x5B50;&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#&#x5B50;&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B50;&#x547D;&#x4EE4;</h4>
<pre class="language-"><code class="lang-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;log&quot;</span>
    <span class="token string">&quot;os&quot;</span>
    <span class="token string">&quot;github.com/urfave/cli/v2&quot;</span>
<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    app <span class="token operator">:=</span> cli<span class="token punctuation">.</span><span class="token function">NewApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>EnableBashCompletion <span class="token operator">=</span> <span class="token boolean">true</span>
    app<span class="token punctuation">.</span>Commands <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">*</span>cli<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
        <span class="token punctuation">{</span>
            Name<span class="token punctuation">:</span>    <span class="token string">&quot;add&quot;</span><span class="token punctuation">,</span>
            Aliases<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            Usage<span class="token punctuation">:</span>   <span class="token string">&quot;add a task to the list&quot;</span><span class="token punctuation">,</span>
            Action<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>cli<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
                fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;added task: &quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">Args</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">First</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token boolean">nil</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            Name<span class="token punctuation">:</span>    <span class="token string">&quot;complete&quot;</span><span class="token punctuation">,</span>
            Aliases<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            Usage<span class="token punctuation">:</span>   <span class="token string">&quot;complete a task on the list&quot;</span><span class="token punctuation">,</span>
            Action<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>cli<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
                fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;completed task: &quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">Args</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">First</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token boolean">nil</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            Name<span class="token punctuation">:</span>    <span class="token string">&quot;template&quot;</span><span class="token punctuation">,</span>
            Aliases<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;t&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            Usage<span class="token punctuation">:</span>   <span class="token string">&quot;options for task templates&quot;</span><span class="token punctuation">,</span>
            Subcommands<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">*</span>cli<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
                <span class="token punctuation">{</span>
                    Name<span class="token punctuation">:</span>  <span class="token string">&quot;add&quot;</span><span class="token punctuation">,</span>
                    Usage<span class="token punctuation">:</span> <span class="token string">&quot;add a new template&quot;</span><span class="token punctuation">,</span>
                    Action<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>cli<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
                        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;new task template: &quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">Args</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">First</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                        <span class="token keyword">return</span> <span class="token boolean">nil</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    Name<span class="token punctuation">:</span>  <span class="token string">&quot;remove&quot;</span><span class="token punctuation">,</span>
                    Usage<span class="token punctuation">:</span> <span class="token string">&quot;remove an existing template&quot;</span><span class="token punctuation">,</span>
                    Action<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>cli<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
                        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;removed task template: &quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">Args</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">First</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                        <span class="token keyword">return</span> <span class="token boolean">nil</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    err <span class="token operator">:=</span> app<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Args<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img src="https://github.com/urfave/cli/raw/master/docs/v2/images/default-bash-autocomplete.gif" alt=""></p>
<h3 id="&#x5176;&#x4ED6;"><a name="&#x5176;&#x4ED6;" class="anchor-navigation-ex-anchor" href="#&#x5176;&#x4ED6;"><i class="fa fa-link" aria-hidden="true"></i></a>5.3.9. &#x5176;&#x4ED6;</h3>
<ul>
<li><a href="https://github.com/alecthomas/kingpin" target="_blank">kingpin</a>
&#x4F3C;&#x4E4E;&#x4E0D;&#x600E;&#x4E48;&#x7EF4;&#x62A4;&#x4E86;</li>
</ul>
<h3 id="go-micro&#x7684;cli"><a name="go-micro&#x7684;cli" class="anchor-navigation-ex-anchor" href="#go-micro&#x7684;cli"><i class="fa fa-link" aria-hidden="true"></i></a>5.3.10. go micro&#x7684;cli</h3>
<p>micro&#x547D;&#x4EE4;&#x4F3C;&#x4E4E;&#x8FDB;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x754C;&#x9762;, &#x6709;&#x63D0;&#x793A;&#x7B26;. &#x4F46;&#x91CC;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x548C;&#x5728;shell&#x4E2D;&#x6572;&#x7684;&#x4E00;&#x6837;.
cli&#x547D;&#x4EE4;&#x5BF9;&#x5E94;&#x7684;Action&#x662F;Run.
&#x8FD9;&#x4E2A;Run&#x662F;&#x4E2A;&#x5178;&#x578B;&#x7684;Read-Eval-Print-Loop, &#x57FA;&#x672C;&#x4E0A;&#x662F;</p>
<pre class="language-"><code class="lang-go"><span class="token keyword">for</span> <span class="token punctuation">{</span>
    <span class="token comment">//&#x5148;readline()</span>
    args<span class="token punctuation">,</span> err <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">Readline</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//&#x51C6;&#x5907;&#x53C2;&#x6570;</span>
    args <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">TrimSpace</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
    parts <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span>
    <span class="token comment">//&#x627E;&#x5230;cmd</span>
    cmd<span class="token punctuation">,</span> ok <span class="token operator">:=</span> commands<span class="token punctuation">[</span>name<span class="token punctuation">]</span>
    <span class="token comment">//&#x6267;&#x884C;cmd</span>
    rsp<span class="token punctuation">,</span> err <span class="token operator">:=</span> cmd<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> parts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>rsp<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<p>micro&#x7684;&#x4EA4;&#x4E92;&#x5F0F;cli&#x5F88;&#x7B80;&#x5355;, &#x5C31;&#x662F;&#x5728;&#x9876;&#x5C42;&#x6709;&#x4E2A;&#x5FAA;&#x73AF;&#x6765;readline, &#x6267;&#x884C;cmd.
&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x529F;&#x80FD;.</p>
<h2 id="&#x65B9;&#x6848;1----go-prompt"><a name="&#x65B9;&#x6848;1----go-prompt" class="anchor-navigation-ex-anchor" href="#&#x65B9;&#x6848;1----go-prompt"><i class="fa fa-link" aria-hidden="true"></i></a>5.4. &#x65B9;&#x6848;1 -- go-prompt</h2>
<h2 id="&#x65B9;&#x6848;2----promptui--cobra"><a name="&#x65B9;&#x6848;2----promptui--cobra" class="anchor-navigation-ex-anchor" href="#&#x65B9;&#x6848;2----promptui--cobra"><i class="fa fa-link" aria-hidden="true"></i></a>5.5. &#x65B9;&#x6848;2 -- promptui + cobra</h2>
<p><img src="https://camo.githubusercontent.com/6d98a9569064c2d13bbe1aee6b58b59e010f5ba0/68747470733a2f2f6d656469612e67697068792e636f6d2f6d656469612f78554e6461304e67623571736f674c7342692f67697068792e676966" alt="promptui"></p>
<p><a href="https://github.com/spf13/cobra/issues/248" target="_blank">&#x8BA8;&#x8BBA;&#x5728;&#x6B64;</a></p>
<p>&#x770B;&#x4E0B;&#x6765;&#x611F;&#x89C9;&#x4E0D;&#x597D;...</p>
<h2 id="&#x65B9;&#x6848;3----readline--cobra"><a name="&#x65B9;&#x6848;3----readline--cobra" class="anchor-navigation-ex-anchor" href="#&#x65B9;&#x6848;3----readline--cobra"><i class="fa fa-link" aria-hidden="true"></i></a>5.6. &#x65B9;&#x6848;3 -- readline + cobra</h2>
<h2 id="&#x65B9;&#x6848;4----&#x81EA;&#x5DF1;&#x5199;repl&#x5FAA;&#x73AF;--cobra"><a name="&#x65B9;&#x6848;4----&#x81EA;&#x5DF1;&#x5199;repl&#x5FAA;&#x73AF;--cobra" class="anchor-navigation-ex-anchor" href="#&#x65B9;&#x6848;4----&#x81EA;&#x5DF1;&#x5199;repl&#x5FAA;&#x73AF;--cobra"><i class="fa fa-link" aria-hidden="true"></i></a>5.7. &#x65B9;&#x6848;4 -- &#x81EA;&#x5DF1;&#x5199;REPL&#x5FAA;&#x73AF; + cobra</h2>
<p>&#x6BD4;&#x5982;<a href="https://medium.com/hackernoon/today-i-learned-making-a-simple-interactive-shell-application-in-golang-aa83adcb266a" target="_blank">&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;</a>&#x91CC;, &#x5C31;&#x53EA;&#x7528;&#x4E86;<code>reader.ReadString(&apos;\n&apos;)</code></p>
<pre class="language-"><code class="lang-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    reader <span class="token operator">:=</span> bufio<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Stdin<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">&quot;$ &quot;</span><span class="token punctuation">)</span>
        cmdString<span class="token punctuation">,</span> err <span class="token operator">:=</span> reader<span class="token punctuation">.</span><span class="token function">ReadString</span><span class="token punctuation">(</span><span class="token char">&apos;\n&apos;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Fprintln</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Stderr<span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        err <span class="token operator">=</span> <span class="token function">runCommand</span><span class="token punctuation">(</span>cmdString<span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Fprintln</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Stderr<span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">runCommand</span><span class="token punctuation">(</span>commandStr <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
    commandStr <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">TrimSuffix</span><span class="token punctuation">(</span>commandStr<span class="token punctuation">,</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
    arrCommandStr <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Fields</span><span class="token punctuation">(</span>commandStr<span class="token punctuation">)</span>
    <span class="token keyword">switch</span> arrCommandStr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;exit&quot;</span><span class="token punctuation">:</span>
        os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token comment">// add another case here for custom commands.</span>
    <span class="token punctuation">}</span>
    cmd <span class="token operator">:=</span> exec<span class="token punctuation">.</span><span class="token function">Command</span><span class="token punctuation">(</span>arrCommandStr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arrCommandStr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token operator">...</span><span class="token punctuation">)</span>
    cmd<span class="token punctuation">.</span>Stderr <span class="token operator">=</span> os<span class="token punctuation">.</span>Stderr
    cmd<span class="token punctuation">.</span>Stdout <span class="token operator">=</span> os<span class="token punctuation">.</span>Stdout
    <span class="token keyword">return</span> cmd<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="golang_杂记3.html" class="navigation navigation-prev " aria-label="Previous page: 杂记3">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="golang_mod_proxy.html" class="navigation navigation-next " aria-label="Next page: go mod和go proxy">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"lib选型","level":"1.2.8.4","depth":3,"next":{"title":"go mod和go proxy","level":"1.2.8.5","depth":3,"path":"notes/golang_mod_proxy.md","ref":"notes/golang_mod_proxy.md","articles":[]},"previous":{"title":"杂记3","level":"1.2.8.3","depth":3,"path":"notes/golang_杂记3.md","ref":"notes/golang_杂记3.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","-lunr","-search","search-plus","-highlight","prism","prism-themes","expandable-chapters-small","github","disqus","splitter","wide-page","hide-navigation-buttons","anchor-navigation-ex"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prism-themes/themes/prism-coldark-cold.css"]},"disqus":{"useIdentifier":false,"shortName":"bai-yingjie-notes"},"github":{"url":"https://github.com/Bai-Yingjie/Bai-Yingjie.github.io"},"splitter":{},"wide-page":{},"fontsettings":{"theme":"white","family":"sans","size":2},"hide-navigation-buttons":{},"anchor-navigation-ex":{"mode":"float","pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"isRewritePageTitle":true,"showLevel":true,"tocLevel1Icon":"fa fa-hand-o-right","tocLevel2Icon":"fa fa-hand-o-right","tocLevel3Icon":"fa fa-hand-o-right","showGoTop":true,"isShowTocTitleIcon":true,"printLog":false,"multipleH1":true,"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false}},"prism-themes":{},"expandable-chapters-small":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"search-plus":{}},"theme":"default","author":"Bai Yingjie","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"My Notes","language":"zh-hans","gitbook":"*"},"file":{"path":"notes/golang_lib选型.md","mtime":"2022-09-09T16:45:14.030Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-09-09T16:46:12.288Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

